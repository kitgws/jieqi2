define("domReady",[],function(){"use strict";function t(t){var e;for(e=0;e<t.length;e+=1)t[e](u)}function e(){var e=c;s&&e.length&&(c=[],t(e))}function n(){s||(s=!0,r&&clearInterval(r),e())}function i(t){return s?t(u):c.push(t),i}var o,a,r,l="undefined"!=typeof window&&window.document,s=!l,u=l?document:null,c=[];if(l){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),a=document.createElement("div");try{o=null===window.frameElement}catch(d){}a.doScroll&&o&&window.external&&(r=setInterval(function(){try{a.doScroll(),n()}catch(t){}},30))}"complete"===document.readyState&&n()}return i.version="2.0.1",i.load=function(t,e,n,o){o.isBuild?n(null):i(n)},i}),define("lazyload",[],function(){return eval(function(t,e,n,i,o,a){if(o=function(t){return(e>t?"":o(parseInt(t/e)))+((t%=e)>35?String.fromCharCode(t+29):t.toString(36))},!"".replace(/^/,String)){for(;n--;)a[o(n)]=i[n]||o(n);i=[function(t){return a[t]}],o=function(){return"\\w+"},n=1}for(;n--;)i[n]&&(t=t.replace(new RegExp("\\b"+o(n)+"\\b","g"),i[n]));return t}('2 11=(7(){2 c={};2 f=[];2 g=14;2 e;c.J=7(a){2 r=a||6,j=r.T("P");s(2 h=0;h<j.w;h++){5(j[h].8("A")&&!j[h].8("I")){f.N(j[h]);j[h].H("I",1);5(a){j[h].H("G",1)}}}};7 d(h){s(2 i={4:0,3:0};h;){i.4+=h.X;i.3+=h.S;h=h.L}x i}7 b(){D.O(g);g=D.R(c.C,15)}c.C=7(){5(f.w==0){x}2 h={};5(e){h.4=e.B;h.3=e.F;h.q=h.4+e.z;h.p=h.3+e.u}o{h.4=6.M.B+6.9.B;h.3=6.9.F;h.q=h.4+6.9.z;h.p=h.3+6.9.u}s(2 l=0;l<f.w;l++){2 k=f[l];5(!k.Q){16}2 m=k.u,j=k.z,n=d(k);5(k.8("G")||(n.4>=h.4&&n.4<=h.q&&n.3>=h.3&&n.3<=h.p||n.4+j>=h.4&&n.4<=h.q&&n.3+m>=h.3&&n.3<=h.p)){k.U=k.8("A");k.V("A");f.W(l,1);l--}}};2 a=t;c.Y=7(h){c.J();c.C();5(!a){a=Z;2 j;5(h){2 i=6.10(h);j=i;e=i}o{j=D}5(j.y){j.y("12",b,t);j.y("13",b,t)}o{5(j.v){j.v("K",b);j.v("E",b)}o{j.K=b;j.E=b}}}};x c}());',62,69,"||var|left|top|if|document|function|getAttribute|documentElement|||||||||||||||else|right|bottom||for|false|clientWidth|attachEvent|length|return|addEventListener|clientHeight|data-src|scrollTop|testImgs|window|onresize|scrollLeft|__domPushed|setAttribute|__lazyPushed|pushImgs|onscroll|offsetParent|body|push|clearTimeout|img|offsetWidth|setTimeout|offsetLeft|getElementsByTagName|src|removeAttribute|splice|offsetTop|init|true|getElementById|PicLazyUtil|scroll|resize|null|100|continue".split("|"),0,{})),PicLazyUtil}),function(t,e){"use strict";t("JC.common",[],function(){function t(t){return t=/\\/.test(t)?t.replace(/[\\]+/g,"\\"):t.replace(/[\/]+/g,"/")}function e(t){for(var e=[],n={},i=0,o=t.length;o>i;i++)t[i]in n||(e.push(t[i]),n[t[i]]=t[i]);return e}function n(t){var e,n,i=[];for(e=0,n=t.length;n>e;e++)i.push(t[e]);return i}function i(t){var e="",t=t||location.href;return/\:\/\//.test(t)&&t.replace(/^.*?\:\/\/([^\/]+)/,function(t,n){e=n}),e}function o(t,e){if(e=e||document.URL,e=e.replace(/^.*?\:\/\/[^\/]+/,"").replace(/[^\/]+$/,""),!t)return e;if(/\/$/.test(e)||(e+="/"),/(^\.\.\/|^\.\/)/.test(t)){for(var n=new RegExp("^\\.\\.\\/"),i=0;null!=n.exec(t);)t=t.replace(n,""),i++;for(var o=0;i>o;o++)e=e.replace(/[^\/]+\/$/,"");return""==e?"/":(t=t.replace(/^\.\//,""),t.replace(/\/\/$/,"/"),e+t)}return t}function a(t){for(var e=1,n=arguments.length;n>e;e++)t=t.replace(new RegExp("\\{"+(e-1)+"\\}","g"),arguments[e]);return t}function r(t,e){for(var n in e)t=t.replace(new RegExp("\\{"+n+"\\}","g"),e[n]);return t}function l(t,e){var n=!1;if(e||(e=t,t=location.href),/\?/.test(t)){t=t.split("?"),t=t[t.length-1],t=t.split("&");for(var i=0,o=t.length;o>i;i++)if(t[i].split("=")[0].toLowerCase()==e.toLowerCase()){n=!0;break}}return n}function s(t,e){var n="";!e&&(e=t,t=location.href),t.indexOf("#")>-1&&(n=t.split("#")[1],t=t.split("#")[0]);for(var i in e)t=f(t,i),t+=t.indexOf("?")>-1?"&"+i+"="+e[i]:"?"+i+"="+e[i];return n&&(t+="#"+n),t=u(t.replace(/\?\&/g,"?"))}function u(t){return t&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;")),t}function c(t,e){var n,i,o,a="";if(!e&&(e=t,t=location.href),t.indexOf("#")>-1&&(t=t.split("#")[0]),t.indexOf("?")>-1)for(n=t.split("?")[1].split("&"),i=0;i<n.length;i++)if(o=n[i].split("="),o[0]=decodeURIComponent(o[0]||"").replace(/^\s+|\s+$/g,""),o[0].toLowerCase()==e.toLowerCase()){a=u(o[1]||"");break}return a}function d(t,e){var n,i,o,a,r=[];if(!e&&(e=t,t=location.href),t=t.replace(/[\?]+/g,"?").split("?"),t.length>1&&(t=t[1],n=t.split("&"),n.length))for(i=0,o=n.length;o>i;i++)a=n[i].split("="),a[0]=decodeURIComponent(a[0])||"",a[0].trim()==e&&r.push(u(a[1]||""));return r}function f(t,e){var n,i,o="",a=[];if(!e&&(e=t,t=location.href),t.indexOf("#")>-1&&(o=t.split("#")[1],t=t.split("#")[0]),t.indexOf("?")>-1){for(n=t.split("?")[1].split("&"),t=t.split("?")[0],i=0;i<n.length;i++){var r=n[i].split("=");r[0]=r[0].replace(/^\s+|\s+$/g,""),r[0].toLowerCase()!=e.toLowerCase()&&a.push(r.join("="))}t+="?"+a.join("&")}return o&&(t+="#"+o),t=u(t)}function p(t,e){!e&&(e=t,t=location.href);for(var n in e)t=f(t,e[n]);return t}function g(t){return t=t||"本示例需要HTTP环境",/file\:|\\/.test(location.href)?(alert(t),!1):!0}function h(t,e,n){!t&&(t=location.href),t=t.replace(/\#[\s\S]*/,""),n=n||"rnd";var i;return!e&&(i={},i[n]=(new Date).getTime(),t=s(t,i)),t=u(t)}function m(t,e,n){return n=n||0,t=h(t||location.href,e),!e&&(t=s(t,{rnd:(new Date).getTime()})),t=u(t),setTimeout(function(){location.href=t},n),t}function v(t,e){return t=parseFloat(t)||0,"undefined"==typeof e&&(e=2),t&&(t=parseFloat(t.toFixed(e))),t}function C(t,e,n){return e=e||2,n=n||"0",t+="",t.length>t?t:(t=new Array(e+1).join(n)+t,t.slice(t.length-e))}function w(t,e){return t=t||new Date,"undefined"==typeof e&&(e="-"),[t.getFullYear(),C(t.getMonth()+1),C(t.getDate())].join(e)}function y(t){if(t){t=t.replace(/[^\d]+/g,"");var e;return 8===t.length?e=new Date(t.slice(0,4),parseInt(t.slice(4,6),10)-1,parseInt(t.slice(6),10)):6===t.length&&(e=new Date(t.slice(0,4),parseInt(t.slice(4,6),10)-1,1)),e}}function b(t,e,n){if(!t)return null;var i=y;return e&&!n&&(e=$(e)).length&&e.attr("dateParse")&&(i=window[e.attr("dateParse")]||i),t=i(t),t&&t.start&&(t=t.start),t}function _(t){var e;return t=t||new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate())}function T(t){var e=new Date;return e.setTime(t.getTime()),e}function R(t,e){return[t.getFullYear(),t.getMonth(),t.getDate()].join()===[e.getFullYear(),e.getMonth(),e.getDate()].join()}function M(t,e){return[t.getFullYear(),t.getMonth()].join()===[e.getFullYear(),e.getMonth()].join()}function k(t,e){var n,i=[],o=!1,a=0;for(i=P(t.getFullYear()),t=t.getTime(),e=e.getTime(),a=0,n=i.length;n>a;a++)if(t>=i[a].start&&t<=i[a].end&&e>=i[a].start&&e<=i[a].end)return console.log(a,t,i[a]),!0;return o}function E(t,e){var n,i=[],o=!1,a=0;if(!x(t,e))return!1;for(i=J(t.getFullYear()),t=t.getTime(),e=e.getTime(),a=0,n=i.length;n>a;a++)if(t>=i[a].start&&t<=i[a].end&&e>=i[a].start&&e<=i[a].end)return!0;return o}function x(t,e){return t.getFullYear()===e.getFullYear()}function P(t,e){var n,i=[],o=1,e=e||0,t=parseInt(t,10),a=new Date(t,0,1);for(a.getDay()>1&&a.setDate(a.getDate()-a.getDay()+7),0===a.getDay()&&a.setDate(a.getDate()+1),e>0&&(e=(new Date(2e3,1,2)-new Date(2e3,1,1))*e);a.getFullYear()<=t&&(n={week:o++,start:null,end:null},n.start=a.getTime()+e,a.setDate(a.getDate()+6),n.end=a.getTime()+e,a.setDate(a.getDate()+1),!(a.getFullYear()>t&&(a=new Date(a.getFullYear(),0,1),a.getDay()<2)));)i.push(n);return i}function J(t){var e=[],t=parseInt(t,10);return e.push({start:_(new Date(t,0,1)),end:_(new Date(t,2,31)),season:1},{start:_(new Date(t,3,1)),end:_(new Date(t,5,30)),season:2},{start:_(new Date(t,6,1)),end:_(new Date(t,8,30)),season:3},{start:_(new Date(t,9,1)),end:_(new Date(t,11,31)),season:4}),e}function j(t){var e,n=new Date(t.getFullYear(),t.getMonth()+1);return n.setDate(n.getDate()-1),e=n.getDate()}function D(){var t=document.getElementsByTagName("script"),t=t[t.length-1],e=t.getAttribute("src");return/\//.test(e)?(e=e.split("/"),e.pop(),e=e.join("/")+"/"):/\\/.test(e)&&(e=e.split("\\"),e.pop(),e=e.join("\\")+"/"),e}function I(t,e,n,i,o){var a,r,l=new Date,e=e||200,n=n||0,e=e-n,s=0,i=i||200,o=o||2,u=setInterval(function(){a=new Date-l,s=a/i*e,s>=e&&(s=e,r=!0,clearInterval(u)),t&&t(s+n,r)},o);return u}function V(t){return"string"==typeof t&&(t=t.replace(/[\s]/g,"").toLowerCase(),!t||"false"!=t&&"0"!=t&&"null"!=t&&"undefined"!=t?t&&(t=!0):t=!1),!!t}function U(t,e,n){n=n||document;var i=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";n.attachEvent&&(i="on"+i),e?(n.detachEvent&&document.detachEvent(i,t),n.removeEventListener&&document.removeEventListener(i,t)):(n.attachEvent&&document.attachEvent(i,t),n.addEventListener&&document.addEventListener(i,t))}function S(t,e){t=$(t);var n;if(e){for(;(t=t.parent()).length;)if(t.is(e)){n=t;break}}else n=t.parent();return n}function A(t,e,n){if(t&&(t=$(t)),/\,/.test(e)){var i,o=[];return e=e.split(","),$.each(e,function(e,a){a=a.trim(),i=A(t,a,n),i&&i.length&&i.each(function(){o.push($(this))})}),$(o)}var a=/^([\/]+)/,r=/^([\|]+)/,l=/^([<\(]+)/;if(a.test(e))return e=e.replace(a,function(e,i){for(var o=0,a=i.length;a>o;o++)t=t.parent();return n=t,""}),e=e.trim(),e?n.find(e):n;if(r.test(e))return e=e.replace(r,function(e,i){for(var o=1,a=i.length;a>o;o++)t=t.parent();return n=t,""}),e=e.trim(),e?n.find(e):n;if(l.test(e)){if(e=e.replace(l,"").trim()){if(/[\s]/.test(e)){var s;return e.replace(/^([^\s]+)([\s\S]+)/,function(e,n,i){s=S(t,n).find(i.trim())}),s||e}return S(t,e)}return t.parent()}return n?n.find(e):jQuery(e)}function O(t){var e="";return t&&(t=$(t)).length&&(e=t.html().trim().replace(/[\r\n]/g,"")),e}function z(t){var e=/^function\s+([^()]+)[\s\S]*/,n="",i=t.toString();return e.test(i)&&(n=i.replace(e,"$1")),n.trim()}function B(t){t=$(t||document),t&&t.length&&window.JC&&(JC.AutoSelect&&JC.AutoSelect(t),JC.Calendar&&JC.Calendar.initTrigger(t),JC.DCalendar&&JC.DCalendar.init&&JC.DCalendar.init(t),JC.AutoChecked&&JC.AutoChecked(t),JC.AjaxUpload&&JC.AjaxUpload.init(t),JC.Placeholder&&JC.Placeholder.init(t),JC.TableFreeze&&JC.TableFreeze.init(t),JC.Drag&&JC.Drag.init(t),JC.ImageCutter&&JC.ImageCutter.init(t),window.Bizs&&(Bizs.DisableLogic&&Bizs.DisableLogic.init(t),Bizs.FormLogic&&Bizs.FormLogic.init(t),Bizs.MoneyTips&&Bizs.MoneyTips.init(t),Bizs.AutoSelectComplete&&Bizs.AutoSelectComplete.init(t),Bizs.TaskViewer&&Bizs.TaskViewer.init(t)))}function G(t){t=t||"";var e,n,i,o,a=t;if(/^URL/.test(t)){e=t.replace(/^URL/,"").replace(/[\s]*,[\s]*/g,",").trim().split(","),t=location.href;var r={},l=[];if(e.length){for(n=0,i=e.length;i>n;n++)l=l.concat(/\&/.test(e[n])?e[n].split("&"):e[n]);e=l}for(n=0,i=e.length;i>n;n++)o=e[n].replace(/[\s]+/g,"").split("="),o[0]&&(r[o[0]]=o[1]||"");t=s(t,r),a=t}return a=u(t)}function F(t){var e,n,i,o=null,a=/^now/i,r=/^nowfirst/;if(t&&"string"==typeof t)if(a.test(t)||r.test(t)){e=new Date,r.test(t)&&e.setDate(1),t=t.replace(a,"").replace(/[\s]+/g,""),n=t.split(",");for(var l=/d$/i,s=/w$/i,u=/m$/i,c=/y$/i,d=0,f=n.length;f>d;d++)i=n[d]||"",i&&(i=i.replace(/[^\-\ddwmy]+/gi,""),l.test(i)?(i=parseInt(i.replace(l,""),10),i&&e.setDate(e.getDate()+i)):s.test(i)?(i=parseInt(i.replace(s,""),10),i&&e.setDate(e.getDate()+7*i)):u.test(i)?(i=parseInt(i.replace(u,""),10),i&&e.setMonth(e.getMonth()+i)):c.test(i)&&(i=parseInt(i.replace(c,""),10),i&&e.setFullYear(e.getFullYear()+i)));o=e}else o=y(t);return o}function L(t,e,n,i){var o="0.00";if(!e&&(e=3),"undefined"==typeof n&&(n=2),!i&&(i=","),"number"==typeof t&&(t=v(t,n)),"string"==typeof t){if(t=t.replace(/[,]/g,""),!/^[\d\.]+$/.test(t))return o;if(t.split(".").length>2)return o}if(!t)return o;t+="",t=t.replace(/[^\d\.]/g,"");for(var a=t.split("."),r=[];a[0].length>e;){var l=a[0].slice(a[0].length-e,a[0].length);r.push(l),a[0]=a[0].slice(0,a[0].length-e)}return r.push(a[0]),a[0]=r.reverse().join(i),n?(!a[1]&&(a[1]=""),a[1]+=new Array(n+1).join("0"),a[1]=a[1].slice(0,n)):a.length>1&&a.pop(),a.join(".")}function q(t,e){"string"==typeof t&&(e=t,t=new Date),!t&&(t=new Date),!e&&(e="YY-MM-DD");var n,i=e,o=["january","february","march","april","may","june","july","august","september","october","november","december"],a=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];return i=i.replace(/YY/g,t.getFullYear()).replace(/WK/g,function(){var e,n=1,i=0;return JC.Calendar&&(i=JC.Calendar.weekDayOffset),e=P(t.getFullYear(),JC.Calendar.weekDayOffset),$(e).each(function(e,i){return t.getTime()>=i.start&&t.getTime()<=i.end?(n=i.week,!1):void 0}),n}).replace(/YQ/g,function(){var e,n=1;return e=J(t.getFullYear()),$(e).each(function(e,i){return t.getTime()>=i.start&&t.getTime()<=i.end?(n=i.season,!1):void 0}),n}).replace(/MM/g,C(t.getMonth()+1)).replace(/DD/g,C(t.getDate())).replace(/yy/g,function(e){return n=C(t.getYear()),n.slice(n.length-2)}).replace(/mm/g,t.getMonth()+1).replace(/dd/g,t.getDate()).replace(/d/g,t.getDate()).replace(/y/g,t.getFullYear()).replace(/m/g,function(e){return o[t.getMonth()]}).replace(/M/g,function(e){return a[t.getMonth()]})}function Z(t,e,n){if("undefined"==typeof n&&(n=!0),t&&e)for(var i in e)n?t[i]=e[i]:i in t||(t[i]=e[i]);return t}function H(t,e,n,i){"undefined"!=typeof t&&(e=$(e||(window.TIMEOUT_HOST=window.TIMEOUT_HOST||{})),n=n||"NORMAL","function"==typeof t&&(t=setTimeout(t,i||50)),e.data(n)&&clearTimeout(e.data(n)),e.data(n,t))}function N(t){t&&(t=$(t));var e;return t&&t.length?(e=t.attr("validEncoder")||"encodeURIComponent",e=window[e]||encodeURIComponent):e=encodeURIComponent,e}function W(t,e){e=e||{};var n,i,o;for(n in t)switch(e[n]=t[n],Object.prototype.toString.call(e[n])){case"[object Object]":e[n]=e[n].constructor===Object?W(e[n]):e[n];break;case"[object Array]":for(e[n]=t[n].slice(),i=0,o=e[n].length;o>i;i++)"[object Object]"==Object.prototype.toString.call(e[n][i])&&(e[n][i]=W(e[n][i]));break;case"[object Date]":e[n]=new Date,e[n].setTime(t[n].getTime());break;default:e[n]=t[n]}return e}function Y(t){t=t||document;var e={width:0,height:0,docWidth:0,docHeight:0,bodyWidth:0,bodyHeight:0,scrollWidth:0,scrollHeight:0};return e.docWidth=t.documentElement.offsetWidth,e.docHeight=t.documentElement.offsetHeight,t.body&&(e.bodyWidth=t.body.offsetWidth,e.bodyHeight=t.body.offsetHeight),e.scrollWidth=t.documentElement.scrollWidth,e.scrollHeight=t.documentElement.scrollHeight,e.width=Math.max(e.docWidth,e.bodyWidth,e.scrollHeight),e.height=Math.max(e.docHeight,e.bodyHeight,e.scrollHeight),e}return!window.console&&(window.console={log:function(){window.status=n(arguments).join(" ")},dir:function(){}}),window.JC=window.JC||{},JC.log=function(){JC.debug&&console.log(n(arguments).join(" "))},JC.dir=function(t){JC.debug&&console.dir(t)},JC.PATH=JC.PATH||D(),window.Bizs=window.Bizs||{},JC.common=JC.f={addUrlParams:s,cloneDate:T,dateDetect:F,delUrlParam:f,delUrlParams:p,easyEffect:I,filterXSS:u,formatISODate:w,funcName:z,getJqParent:S,getUrlParam:c,getUrlParams:d,hasUrlParam:l,urlHostName:i,httpRequire:g,isSameDay:R,isSameWeek:k,isSameMonth:M,isSameSeason:E,isSameYear:x,weekOfYear:P,seasonOfYear:J,jcAutoInitComps:B,maxDayOfMonth:j,mousewheelEvent:U,padChar:C,parentSelector:A,parseBool:V,parseFinance:v,parseISODate:y,parseDate:b,printf:a,printKey:r,cloneObject:W,pureDate:_,reloadPage:m,removeUrlSharp:h,relativePath:o,scriptContent:O,scriptPath:D,sliceArgs:n,urlDetect:G,moneyFormat:L,dateFormat:q,extendObject:Z,safeTimeout:H,encoder:N,fixPath:t,arrayId:e,docSize:Y,backward:function(t){if(window.JC_BACKWARD||t)for(var e in JC.common)"backward"!=e&&(window[e]=window[e]||JC.common[e])},has_url_param:l,add_url_params:s,get_url_param:c,del_url_param:f,reload_page:m,parse_finance_num:v,pad_char_f:C,script_path_f:D,ts:function(){return(new Date).getTime()}},JC.f.backward(),!String.prototype.trim&&(String.prototype.trim=function(){return $.trim(this)}),window.ZINDEX_COUNT=window.ZINDEX_COUNT||50001,function(){if(window.jQuery){var t=$.fn.val;$.fn.val=function(){var e=t.apply(this,arguments),n=this;return arguments.length&&"input"==(this.prop("nodeName")||"").toLowerCase()&&"hidden"==(this.attr("type")||"").toLowerCase()&&setTimeout(function(){n.trigger("change")},1),e}}}(),JC.f})}("function"==typeof define&&define.amd?define:function(t,e,n){"function"==typeof t&&(n=t),"function"==typeof e&&(n=e),n&&n()},window),function(define,_win){"use strict";define("JC.BaseMVC",["JC.common"],function(){function BaseMVC(t){throw new Error("JC.BaseMVC is an abstract class, can't initialize!")}return window.BaseMVC=JC.BaseMVC=BaseMVC,BaseMVC.prototype={_init:function(){var t=this;return $([t._view,t._model]).on("BindEvent",function(e,n,i){t.on(n,i)}),$([t._view,t._model]).on("TriggerEvent",function(e,n){var i=JC.f.sliceArgs(arguments).slice(2);t.trigger(n,i)}),t._beforeInit(),t._initHanlderEvent(),t._model.init(),t._view&&t._view.init(),t._inited(),t},_beforeInit:function(){},_initHanlderEvent:function(){},_inited:function(){},selector:function(){return this._model.selector()},on:function(t,e){return $(this).on(t,e),this},trigger:function(t,e){return $(this).trigger(t,e),this}},BaseMVC.getInstance=function(t,e,n){return"string"==typeof t&&!/</.test(t)&&(t=$(t)),t&&t.length&&"string"!=typeof t?(e.Model._instanceName=e.Model._instanceName||"CommonIns","undefined"!=typeof n&&t.data(e.Model._instanceName,n),t.data(e.Model._instanceName)):null},BaseMVC.autoInit=!0,BaseMVC.build=function(t,e){e=e||BaseMVC,"string"==typeof e&&(e=BaseMVC),BaseMVC.buildModel(t),BaseMVC.buildView(t),BaseMVC.buildClass(e,t),e.Model&&BaseMVC.buildClass(e.Model,t.Model),e.View&&BaseMVC.buildClass(e.View,t.View)},BaseMVC.buildClass=function(t,e){if(t&&e){var n;if(e){for(n in t)e[n]||t[n].constructor==Function||(e[n]=t[n]);for(n in t.prototype)!e.prototype[n]&&(e.prototype[n]=t.prototype[n])}}},BaseMVC.buildModel=function(t){!t.Model&&(t.Model=function(t){this._selector=t},t.Model._instanceName="CommonIns")},BaseMVC.buildView=function(t){!t.View&&(t.View=function(t){this._model=t})},BaseMVC.buildModel(BaseMVC),BaseMVC.buildView(BaseMVC),BaseMVC.Model._instanceName="BaseMVCIns",JC.f.extendObject(BaseMVC.Model.prototype,{init:function(){return this},on:function(){return $(this).trigger("BindEvent",JC.f.sliceArgs(arguments)),this},trigger:function(t,e){return e=e||[],e.unshift(t),$(this).trigger("TriggerEvent",e),this},selector:function(t){return"undefined"!=typeof t&&(this._selector=t),this._selector},intProp:function(t,e){"undefined"==typeof e?(e=t,t=this.selector()):t&&(t=$(t));var n=0;return t&&t.is("["+e+"]")&&(n=parseInt(t.attr(e).trim(),10)||n),n},floatProp:function(t,e){"undefined"==typeof e?(e=t,t=this.selector()):t&&(t=$(t));var n=0;return t&&t.is("["+e+"]")&&(n=parseFloat(t.attr(e).trim())||n),n},stringProp:function(t,e){"undefined"==typeof e?(e=t,t=this.selector()):t&&(t=$(t));var n=(this.attrProp(t,e)||"").toLowerCase();return n},attrProp:function(t,e){"undefined"==typeof e?(e=t,t=this.selector()):t&&(t=$(t));var n="";return t&&t.is("["+e+"]")&&(n=t.attr(e).trim()),n},boolProp:function(t,e,n){"boolean"==typeof e?(n=e,e=t,t=this.selector()):"undefined"==typeof e?(e=t,t=this.selector()):t&&(t=$(t));var i=void 0;return t&&t.is("["+e+"]")&&(i=JC.f.parseBool(t.attr(e).trim())),i},callbackProp:function(t,e){"undefined"==typeof e?(e=t,t=this.selector()):t&&(t=$(t));var n,i;return t&&t.is("["+e+"]")&&(i=window[t.attr(e)])&&(n=i),n},windowProp:function(){return this.callbackProp.apply(this,JC.f.sliceArgs(arguments))},selectorProp:function(t,e){var n;return"undefined"==typeof e?(e=t,t=this.selector()):t&&(t=$(t)),t&&t.is("["+e+"]")&&(n=JC.f.parentSelector(t,t.attr(e))),n},scriptTplProp:function(t,e){var n,i="";return"undefined"==typeof e?(e=t,t=this.selector()):t&&(t=$(t)),t&&t.is("["+e+"]")&&(n=JC.f.parentSelector(t,t.attr(e)))&&n.length&&(i=JC.f.scriptContent(n)),i},jsonProp:function(_selector,_key){var _r;return"undefined"==typeof _key?(_key=_selector,_selector=this.selector()):_selector&&(_selector=$(_selector)),_selector&&_selector.is("["+_key+"]")&&(_r=eval("("+_selector.attr(_key)+")")),_r},is:function(t,e){return"undefined"==typeof e?(e=t,t=this.selector()):t&&(t=$(t)),t&&t.is(e)}}),JC.f.extendObject(BaseMVC.View.prototype,{init:function(){return this},selector:function(){return this._model.selector()},on:function(){return $(this).trigger("BindEvent",JC.f.sliceArgs(arguments)),this},trigger:function(t,e){return e=e||[],e.unshift(t),$(this).trigger("TriggerEvent",e),this}}),JC.BaseMVC})}("function"==typeof define&&define.amd?define:function(t,e,n){"function"==typeof t&&(n=t),"function"==typeof e&&(n=e),n&&n()},window),function(t,e){"use strict";t("JC.Panel.default",["JC.common"],function(){function t(i,o,a,r){return"string"==typeof i&&(i=i.trim().replace(/[\r\n]+/g,"")),"string"==typeof o&&(o=o.trim().replace(/[\r\n]+/g,"")),"string"==typeof a&&(a=a.trim().replace(/[\r\n]+/g,"")),t.getInstance(i)?t.getInstance(i):(this._model=new e(i,o,a,r),this._view=new n(this._model),void this._init())}function e(t,e,n,i){this.selector=t,this.headers=e,this.bodys=n,this.footers=i,this.panel,this._events={},this._init()}function n(t){this._model=t,this._tpl=i,this._init()}window.Panel=JC.Panel=t,t.getInstance=function(t){return"string"!=typeof t||/</.test(t)||(t=$(t)),t&&"string"==typeof t?void 0:$(t).data("PanelInstace")},t.focusButton=!0,t.clickClose=!0,t.autoCloseMs=2e3,t._fixWidth=function(t,e,n,i){var o=$('<div class="UPanel_TMP" style="position:absolute; left:-9999px;top:-9999px;">'+t+"</div>").appendTo("body"),a=o.width()+80;o.remove(),n=n||200,i=i||500,a>i&&(a=i),n>a&&(a=n),e.selector().css("width",a)},t._getButton=function(t){var e=[];return t&&(e.push('<div style="text-align:center" class="UButton"> '),t>=1&&e.push('<button type="button" eventtype="confirm">确定</button>'),t>=2&&e.push('<button type="button" eventtype="cancel">取消</button>'),e.push("</div>")),e.join("")},t.prototype={_init:function(){var t=this;return t._view.getPanel().data("PanelInstace",t),t._model.addEvent("close_default",function(t,e){e._view.close()}),t._model.addEvent("show_default",function(t,e){e._view.show()}),t._model.addEvent("hide_default",function(t,e){e._view.hide()}),t._model.addEvent("confirm_default",function(t,e){e.trigger("close")}),t._model.addEvent("cancel_default",function(t,e){e.trigger("close")}),t._model.panelautoclose()&&t.autoClose(),t},on:function(t,e){return t&&e&&this._model.addEvent(t,e),this},show:function(t,e){var n=this;return setTimeout(function(){switch(typeof t){case"number":switch(t){case 0:n.center()}break;case"object":if(t=$(t),t.length&&n._view.positionWith(t,e),!n._model.bindedPositionWithEvent){n._model.bindedPositionWithEvent=!0;var i=function(){n._view.getPanel().is(":visible")&&n.positionWith(t,e)};$(window).off("resize",i),$(window).on("resize",i),n.on("close",function(){n._model.bindedPositionWithEvent=!1,$(window).off("resize",i)})}}},10),this.trigger("beforeshow",this._view.getPanel()),this.trigger("show",this._view.getPanel()),this},positionWith:function(t,e){return t=$(t),t&&t.length&&this._view.positionWith(t,e),this},hide:function(){return this.trigger("beforehide",this._view.getPanel()),this.trigger("hide",this._view.getPanel()),this},close:function(){return this.trigger("beforeclose",this._view.getPanel()),this.trigger("close",this._view.getPanel()),this},isClickClose:function(){return this._model.panelclickclose()},clickClose:function(t){return t&&this.layout()&&this.layout().removeAttr("panelclickclose"),!t&&this.layout()&&this.layout().attr("panelclickclose",!0),this},addAutoClose:function(){return this.clickClose.apply(this,JC.f.sliceArgs(arguments)),this},autoClose:function(e,n){"number"==typeof e&&(n=e,e=null);var i=this;return n=i._model.panelautoclosems(n),t._autoCloseTimeout&&clearTimeout(t._autoCloseTimeout),i.on("close",function(){t._autoCloseTimeout&&clearTimeout(t._autoCloseTimeout)}),t._autoCloseTimeout=setTimeout(function(){e&&i.on("close",e),i.close()},n),this},focusButton:function(){return this._view.focusButton(),this},dispose:function(){return this._view.close(),this},center:function(){return this.trigger("beforecenter",this._view.getPanel()),this._view.center(),this.trigger("center",this._view.getPanel()),this},selector:function(){return this._view.getPanel()},layout:function(){return this._view.getPanel()},find:function(t){return this.layout().find(t)},trigger:function(t,e){var n=this,i=this._model.getEvent(t),o=!0;if(i&&i.length&&(e&&(e=$(e))&&e.length&&(e=e[0]),$.each(i,function(i,a){return a.call(e,t,n)===!1?o=!1:void 0})),o){var a=this._model.getEvent(t+"_default");a&&a.length&&$.each(a,function(i,o){return o.call(e,t,n)===!1?!1:void 0})}return this},header:function(t){"undefined"!=typeof t&&this._view.getHeader(t);var e=this._view.getHeader();return e&&e.length&&(t=e.html()),t||""},body:function(t){"undefined"!=typeof t&&this._view.getBody(t);var e=this._view.getBody();return e&&e.length&&(t=e.html()),t||""},footer:function(t){"undefined"!=typeof t&&this._view.getFooter(t);var e=this._view.getFooter();return e&&e.length&&(t=e.html()),t||""},panel:function(t){"undefined"!=typeof t&&this._view.getPanel(t);var e=this._view.getPanel();return e&&e.length&&(t=e.html()),t||""},triggerSelector:function(t){return this._model.triggerSelector(t)},offsetTop:function(t){return this._model.offsetTop(t)},offsetLeft:function(t){return this._model.offsetLeft(t)}},e.prototype={_init:function(){var e=this,n="undefined"!=typeof this.selector?$(this.selector):void 0;return t.ignoreClick=!0,n&&n.length?(this.selector=n,this.selector.parent().length||(e.selector.appendTo($(document.body)),window.JC.f.jcAutoInitComps&&JC.f.jcAutoInitComps(e.selector))):n&&0!==n.length||(this.footers=this.bodys,this.bodys=this.headers,this.headers=this.selector,this.selector=void 0),setTimeout(function(){t.ignoreClick=!1},1),this},offsetTop:function(t){return"undefined"!=typeof t&&(this._offsetTop=t),this._offsetTop||0},offsetLeft:function(t){return"undefined"!=typeof t&&(this._offsetLeft=t),this._offsetLeft||0},triggerSelector:function(t){return"undefined"!=typeof t&&(this._triggerSelector=t),this._triggerSelector},addEvent:function(t,e){t&&e&&(t&&(t=t.toLowerCase()),t in this._events||(this._events[t]=[]),/\_default/i.test(t)?this._events[t].unshift(e):this._events[t].push(e))},getEvent:function(t){return this._events[t]},panelfocusbutton:function(){var e=t.focusButton;return this.panel.is("[panelfocusbutton]")&&(e=JC.f.parseBool(this.panel.attr("panelfocusbutton"))),e},panelclickclose:function(){var e=t.clickClose;return this.panel.is("[panelclickclose]")&&(e=JC.f.parseBool(this.panel.attr("panelclickclose"))),e},panelautoclose:function(){var t;return this.panel.is("[panelautoclose]")&&(t=JC.f.parseBool(this.panel.attr("panelautoclose"))),t},panelautoclosems:function(e){var n=t.autoCloseMs;return this.panel.is("[panelautoclosems]")&&(n=parseInt(this.panel.attr("panelautoclosems"),10)),"number"==typeof e&&(n=e),n}},n.prototype={_init:function(){return this._model.panel||(this._model.selector?this._model.panel=this._model.selector:(this._model.panel=$(this._tpl),this._model.panel.appendTo(document.body),window.JC.f.jcAutoInitComps&&JC.f.jcAutoInitComps(this._model.panel))),this.getHeader(),this.getBody(),this.getFooter(),this},positionWith:function(t,e){if(t&&t.length){this.getPanel().css({left:"-9999px",top:"-9999px",display:"block",position:"absolute"});var n=t.offset(),i=t.prop("offsetWidth"),o=t.prop("offsetHeight"),a=this.getPanel().prop("offsetWidth"),r=this.getPanel().prop("offsetHeight"),l=$(window).width(),s=$(window).height(),u=$(document).scrollTop(),c=$(document).scrollLeft(),d=n.left+c,f=n.top+o+1;if("undefined"!=typeof e)switch(e){case"top":f=n.top-r-1,d=n.left+i/2-a/2}f+=this._model.offsetTop(),d+=this._model.offsetLeft();var p=u+s-r,g=u;f>p&&(f=n.top-r-1),g>f&&(f=u);var h=c+l-a,m=c;d>h&&(d=c+l-a-1),m>d&&(d=c),this.getPanel().css({left:d+"px",top:f+"px"})}},show:function(){this.getPanel().css({"z-index":ZINDEX_COUNT++}).show()},focusButton:function(){if(this._model.panelfocusbutton()){var t=this.getPanel().find("input[eventtype=confirm], input[type=submit], button[eventtype=confirm], button[type=submit]");!t.length&&(t=this.getPanel().find("input[eventtype=cancel], input[type=buton], button[eventtype=cancel], button[type=button]")),t.length&&$(t[0]).focus()}},hide:function(){this.getPanel().hide()},close:function(){this.getPanel().remove()},getPanel:function(t){return"undefined"!=typeof t&&this.getPanel().html(t),this._model.panel},getHeader:function(t){var e=this.getPanel().find("div.UPContent > div.hd");return"undefined"!=typeof t&&(this._model.headers=t),"undefined"!=typeof this._model.headers&&(e.length||this.getPanel().find("div.UPContent > div.bd").before(e=$('<div class="hd">弹出框</div>')),e.html(this._model.headers),this._model.headers=void 0),e},getBody:function(t){var e=this.getPanel().find("div.UPContent > div.bd");return"undefined"!=typeof t&&(this._model.bodys=t),"undefined"!=typeof this._model.bodys&&(e.html(this._model.bodys),this._model.bodys=void 0),e},getFooter:function(t){var e=this.getPanel().find("div.UPContent > div.ft");return"undefined"!=typeof t&&(this._model.footers=t),"undefined"!=typeof this._model.footers&&(e.length||this.getPanel().find("div.UPContent > div.bd").after(e=$('<div class="ft" ></div>')),e.html(this._model.footers),this._model.footers=void 0),e},center:function(){var t,e,n=this.getPanel(),i=n.width(),o=n.height(),a=$(window).width(),r=$(window).height(),l=$(document).scrollLeft(),s=$(document).scrollTop();n.css({left:"-9999px",top:"-9999px"}).show(),t=(a-i)/2+l,e=(r-o)/2+s,r-o-100>300&&(e-=100),e+o-s>r&&(e=s+r-o),(s>e||0>e)&&(e=s),e+=this._model.offsetTop(),t+=this._model.offsetLeft(),n.css({left:t+"px",top:e+"px"})}};var i=['<div class="UPanel" style="width: 600px;">','    <div class="UPContent">','        <div class="bd"></div>','        <span class="close" eventtype="close"></span>',"    </div><!--end UPContent-->","</div>"].join("");JC.hideAllPanel=function(e){$("div.UPanel").each(function(){var n=$(this),i=t.getInstance(n);i&&(i.hide(),e&&i.close())})},JC.hideAllPopup=function(e){$("body > div.UPanelPopup_identifer").each(function(){var n=$(this),i=t.getInstance(n);i&&(i.hide(),e&&i.close())})},$(document).delegate("div.UPanel","click",function(t){var e,n=$(this),i=$(t.target||t.srcElement);i&&i.length&&i.is("[eventtype]")&&(e=i.attr("eventtype"),e&&n.data("PanelInstace")&&n.data("PanelInstace").trigger(e,i,t))}),$(document).delegate("div.UPanel","click",function(e){var n=$(this),i=t.getInstance(n);i&&i.isClickClose()&&e.stopPropagation()}),$(document).on("click",function(e){t.ignoreClick||$("div.UPanel").each(function(){var e=$(this),n=t.getInstance(e);n&&n.isClickClose()&&n.layout()&&n.layout().is(":visible")&&(n.hide(),n.close())})}),$(document).on("keyup",function(t){var e=t.keyCode;switch(e){case 27:JC.hideAllPanel(1)}});var o={alert:null,confirm:null,msgbox:null,"dialog.alert":null,"dialog.confirm":null,"dialog.msgbox":null,panel:null,dialog:null};return $(document).on("click",function(e){var n=$(e.target||e.srcElement),i=n.attr("paneltype"),a=n.attr("panelmsg"),r=n.is("[panelmsgbox]")?JC.f.parentSelector(n,n.attr("panelmsgbox")):null;if(i&&(a||r&&r.length)&&(i=i.toLowerCase(),!(!i in o))){n.prop("nodeName")&&"a"==n.prop("nodeName").toLowerCase()&&e.preventDefault();var l,s=parseInt(n.attr("panelstatus"),10)||0,u=n.attr("panelcallback"),c=n.attr("panelcancelcallback"),d=n.attr("panelclosecallback"),f=parseInt(n.attr("panelbutton"),10)||0,p=n.attr("panelheader")||"",g=n.is("[panelheaderbox]")?JC.f.parentSelector(n,n.attr("panelheaderbox")):null,h=n.attr("panelfooter")||"",m=n.is("[panelfooterbox]")?JC.f.parentSelector(n,n.attr("panelfooterbox")):null,v=n.is("[panelhideclose]")?JC.f.parseBool(n.attr("panelhideclose")):!1;switch(r&&(a=JC.f.scriptContent(r)||a),g&&g.length&&(p=JC.f.scriptContent(g)||h),m&&m.length&&(h=JC.f.scriptContent(m)||h),n.prop("nodeName")&&"a"==n.prop("nodeName").toLowerCase()&&e.preventDefault(),u&&(u=window[u]),d&&(d=window[d]),i){case"alert":JC.alert&&(l=JC.alert(a,n,s));break;case"confirm":JC.confirm&&(l=JC.confirm(a,n,s));break;case"msgbox":
JC.msgbox&&(l=JC.msgbox(a,n,s));break;case"dialog.alert":JC.Dialog&&JC.Dialog.alert&&(l=JC.Dialog.alert(a,s));break;case"dialog.confirm":JC.Dialog&&JC.Dialog.confirm&&(l=JC.Dialog.confirm(a,s));break;case"dialog.msgbox":JC.Dialog&&JC.Dialog.msgbox&&(l=JC.Dialog.msgbox(a,s));break;case"panel":case"dialog":;if("panel"==i)l=new t(p,a+t._getButton(f),h);else{if(!JC.Dialog)return;l=JC.Dialog(p,a+t._getButton(f),h)}l.on("beforeshow",function(e,n){!p&&n.find("div.hd").hide(),!p&&n.find("div.ft").hide(),t._fixWidth(a,l),v&&n.find("span.close").hide()}),"panel"==i&&l.show(n,"top")}l&&(/msgbox/i.test(i)?u&&l.on("close",u):u&&l.on("confirm",u),d&&l.on("close",d),c&&l.on("cancel",c),l.triggerSelector(n))}}),JC.Panel})}("function"==typeof define&&define.amd?define:function(t,e,n){"function"==typeof t&&(n=t),"function"==typeof e&&(n=e),n&&n()},window),function(t,e){"use strict";t("JC.Panel.popup",["JC.Panel.default"],function(){JC.msgbox=function(e,n,i,o,a){"number"==typeof n&&(i=n,n=null),"number"==typeof o&&(a=o,o=null);var r=t.popup(JC.msgbox.tpl||t.tpls.msgbox,e,n,i);return o&&r.on("close",o),setTimeout(function(){r.autoClose(a)},1),r},JC.msgbox.tpl,JC.alert=function(e,n,i,o){return"number"==typeof n&&(i=n,n=null),t.popup(JC.alert.tpl||t.tpls.alert,e,n,i,o)},JC.alert.tpl,JC.confirm=function(e,n,i,o,a){"number"==typeof n&&(i=n,n=null);var r=t.popup(JC.confirm.tpl||t.tpls.confirm,e,n,i,o);return r&&a&&r.on("cancel",a),r},JC.confirm.tpl;var t={minWidth:180,maxWidth:500,xoffset:9,yoffset:3,popupIdentifier:function(t){t?(t.selector().addClass("UPanelPopup_identifer"),t.selector().data("PopupInstance",t)):($("body > div.UPanelPopup_identifer").each(function(){var t=$(this),e=Panel.getInstance(t);e&&(e.hide(),e.close())}),$("body > div.UPanel_TMP").remove())},popup:function(e,n,i,o,a){if(n){t.popupIdentifier(),i&&(i=$(i));var e=e.replace(/\{msg\}/g,n).replace(/\{status\}/g,t.getStatusClass(o||"")),r=new JC.Panel(e);return t.popupIdentifier(r),r.selector().data("popupSrc",i),t.fixWidth(n,r),a&&r.on("confirm",a),i||r.center(),r.on("show_default",function(){return i&&i.length?(t.showEffect(r,i,function(){r.focusButton()}),!1):void 0}),r.on("close_default",function(){return i&&i.length?t.hideEffect(r,i,function(){r.selector().remove(),r=null}):r.selector().remove(),!1}),r.on("hide_default",function(){return i&&i.length?(t.hideEffect(r,i,function(){r.selector().hide()}),!1):void r.selector().hide()}),i&&i.length&&r.selector().css({left:"-9999px",top:"-9999px"}),r.selector().css("z-index",window.ZINDEX_COUNT++),r.show(),r}},hideEffect:function(e,n,i){if(n&&(n=$(n)),!n||!n.length)return void(i&&i(e));if(e&&e.selector){var o=n.offset(),a=e.selector(),r=a[0];r.interval&&clearInterval(r.interval),r.defaultWidth&&a.width(r.defaultWidth),r.defaultHeight&&a.height(r.defaultHeight);var l=n.width(),s=a.height();r.defaultWidth=a.width(),r.defaultHeight=a.height();var u=t.getLeft(o.left,l,a.width()),c=t.getTop(o.top,n.height(),s);c=c-s-t.yoffset,a.height(0),a.css({left:u+"px"}),r.interval=JC.f.easyEffect(function(t,o){a.css({top:c+t+"px",height:s-t+"px"}),n&&!n.is(":visible")&&(clearInterval(r.interval),i&&i(e)),s===t&&a.hide(),o&&i&&i(e)},s)}},showEffect:function(e,n,i){if(n&&(n=$(n)),n&&n.length&&e&&e.selector){var o=n.offset(),a=e.selector(),r=a[0];r.interval&&clearInterval(r.interval),r.defaultWidth&&a.width(r.defaultWidth),r.defaultHeight&&a.height(r.defaultHeight);var l=n.width(),s=a.height();r.defaultWidth=a.width(),r.defaultHeight=a.height();var u=t.getLeft(o.left,l,a.width()),c=t.getTop(o.top,n.height(),s,t.xoffset);a.height(0),a.css({left:u+"px"}),r.interval=c>o.top?JC.f.easyEffect(function(n,o){a.css({top:c-s-t.yoffset+"px",height:n+"px"}),o&&i&&i(e)},s):JC.f.easyEffect(function(n,o){a.css({top:c-n-t.yoffset+"px",height:n+"px"}),o&&i&&i(e)},s)}},onresize:function(e){if(e.selector().is(":visible")){var n=e.selector(),i=n.data("popupSrc");if(i&&i.length){var o=i.offset(),a=o.top,r=i.height(),l=n.height(),s=0,u=o.left,c=i.width(),d=n.width(),f=0,p=t.getLeft(u,c,d,f)+t.xoffset,g=t.getTop(a,r,l,s)-l-t.yoffset;n.css({left:p+"px",top:g+"px"})}else e.center()}},getTop:function(t,e,n,i){{var o=t,a=$(document).scrollTop();$(window).height()-n}return a>o-n&&(o=t+e+n+i),o},getLeft:function(t,e,n,i){void 0==i&&(i=5);var o=t+e/2+i-n/2,a=$(document).scrollLeft(),r=$(window).width()+a-n;return o>r&&(o=r-2),a>o&&(o=a+1),o},fixWidth:function(e,n){var i=$('<div class="UPanel_TMP" style="position:absolute; left:-9999px;top:-9999px;">'+e+"</div>").appendTo("body"),o=i.width()+80;i.remove(),o>t.maxWidth&&(o=t.maxWidth),o<t.minWidth&&(o=t.minWidth),n.selector().css("width",o)},getStatusClass:function(t){var e="UPanelSuccess";switch(t){case 0:e="UPanelSuccess";break;case 1:e="UPanelError";break;case 2:e="UPanelAlert"}return e},tpls:{msgbox:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join(""),alert:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>",'                <dd class="UButton">','                    <button type="button" class="UPanel_confirm" eventtype="confirm">确定</button>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join(""),confirm:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>",'                <dd class="UButton">','                    <button type="button" class="UPanel_confirm" eventtype="confirm">确定</button>','                    <button type="button" class="UPanel_cancel" eventtype="cancel">取消</button>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join("")}};return $(window).on("resize",function(e){$("body > div.UPanelPopup_identifer").each(function(){var e=$(this);e.data("PopupInstance")&&t.onresize(e.data("PopupInstance"))})}),JC.Panel})}("function"==typeof define&&define.amd?define:function(t,e,n){"function"==typeof t&&(n=t),"function"==typeof e&&(n=e),n&&n()},window),function(t,e){"use strict";t("JC.Dialog",["JC.Panel.default"],function(){!!window.ActiveXObject&&!window.XMLHttpRequest,window.Dialog=JC.Dialog=function(e,n,i,o){if(t.timeout&&clearTimeout(t.timeout),JC.Panel.getInstance(e))return t.timeout=setTimeout(function(){JC.Panel.getInstance(e).show(0)},t.showMs),JC.Panel.getInstance(e);t.dialogIdentifier();var a=new JC.Panel(e,n,i,o);return t.dialogIdentifier(a),t.showMask(),a.selector().css("z-index",window.ZINDEX_COUNT++),a.on("close_default",function(e,n){t.hideMask()}),a.on("hide_default",function(e,n){t.hideMask()}),a.on("show_default",function(e,n){t.showMask(),setTimeout(function(){t.showMask(),a.selector().css({"z-index":window.ZINDEX_COUNT++,display:"block"})},1)}),t.timeout=setTimeout(function(){a.show(0)},t.showMs),a};JC.Dialog.mask=function(e){!e&&t.showMask(),e&&t.hideMask()};var t={timeout:null,showMs:10,dialogIdentifier:function(e){e?(e.selector().addClass("UPanelDialog_identifer"),e.selector().data("DialogInstance",e)):(t.hideMask(),$("body > div.UPanelDialog_identifer").each(function(){var t=$(this),e=Panel.getInstance(t);e&&e.hide()}),$("body > div.UPanel_TMP").remove())},showMask:function(){var e=$("#UPanelMask"),n=$("#UPanelMaskIfrmae");e.length||($(t.tpls.mask).appendTo("body"),e=$("#UPanelMask"),n=$("#UPanelMaskIfrmae")),n.show(),e.show(),t.setMaskSizeForIe6(),n.css("z-index",window.ZINDEX_COUNT++),e.css("z-index",window.ZINDEX_COUNT++)},hideMask:function(){var t=$("#UPanelMask"),e=$("#UPanelMaskIfrmae");t.length&&t.hide(),e.length&&e.hide()},setMaskSizeForIe6:function(){var t=$("#UPanelMask"),e=$("#UPanelMaskIfrmae");if(t.length&&e.length){var n={position:"absolute",top:"0px",left:$(document).scrollLeft()+"px",height:$(document).height()+"px",width:$(window).width()+"px"};t.css(n),e.css(n)}},tpls:{mask:['<div id="UPanelMask" class="UPanelMask"></div>','<iframe src="about:blank" id="UPanelMaskIfrmae"',' frameborder="0" class="UPanelMaskIframe"></iframe>'].join("")}};return $(window).on("resize scroll",function(e){$("body > div.UPanelDialog_identifer").each(function(){var n=$(this);if(n.data("DialogInstance")){if(!n.data("DialogInstance").selector().is(":visible"))return;"resize"==e.type.toLowerCase()&&n.data("DialogInstance").center(),t.setMaskSizeForIe6()}})}),JC.Dialog})}("function"==typeof define&&define.amd?define:function(t,e,n){"function"==typeof t&&(n=t),"function"==typeof e&&(n=e),n&&n()},window),function(t,e){"use strict";t("JC.Dialog.popup",["JC.Dialog"],function(){JC.Dialog.msgbox=function(e,n,i,o){if(e){var a=(JC.Dialog.msgbox.tpl||t.tpls.msgbox).replace(/\{msg\}/g,e).replace(/\{status\}/g,t.getStatusClass(n||"")),r=JC.Dialog(a);return t.fixWidth(e,r),i&&r.on("close",i),setTimeout(function(){r.autoClose(o)},1),r}},JC.Dialog.msgbox.tpl,JC.Dialog.alert=function(e,n,i){if(e){var o=(JC.Dialog.alert.tpl||t.tpls.alert).replace(/\{msg\}/g,e).replace(/\{status\}/g,t.getStatusClass(n||"")),a=JC.Dialog(o);return t.fixWidth(e,a),i&&a.on("confirm",i),a}},JC.Dialog.alert.tpl,JC.Dialog.confirm=function(e,n,i,o){if(e){var a=(JC.Dialog.confirm.tpl||t.tpls.confirm).replace(/\{msg\}/g,e).replace(/\{status\}/g,t.getStatusClass(n||"")),r=JC.Dialog(a);return t.fixWidth(e,r),i&&r.on("confirm",i),o&&r.on("cancel",o),r}},JC.Dialog.confirm.tpl;var t={minWidth:180,maxWidth:500,getStatusClass:function(t){var e="UPanelSuccess";switch(t){case 0:e="UPanelSuccess";break;case 1:e="UPanelError";break;case 2:e="UPanelAlert"}return e},fixWidth:function(e,n){var i=$('<div class="UPanel_TMP" style="position:absolute; left:-9999px;top:-9999px;">'+e+"</div>").appendTo("body"),o=i.width()+80;o>t.maxWidth&&(o=t.maxWidth),o<t.minWidth&&(o=t.minWidth),n.selector().css("width",o)},tpls:{msgbox:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join(""),alert:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>",'                <dd class="UButton">','                    <button type="button" class="UPanel_confirm" eventtype="confirm">确定</button>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join(""),confirm:['<div class="UPanel UPanelPopup {status}" >','    <div class="UPContent">','        <div class="bd">',"            <dl>",'                <dd class="UPopupContent">','                <button class="UIcon" align="absMiddle" ></button><div class="UText"><button type="button" class="UPlaceholder"></button>{msg}</div>',"                </dd>",'                <dd class="UButton">','                    <button type="button" class="UPanel_confirm" eventtype="confirm">确定</button>','                    <button type="button" class="UPanel_cancel" eventtype="cancel">取消</button>',"                </dd>","            </dl>","        </div>","    </div><!--end UPContent-->","</div>"].join("")}};return JC.Dialog})}("function"==typeof define&&define.amd?define:function(t,e,n){"function"==typeof t&&(n=t),"function"==typeof e&&(n=e),n&&n()},window),function(t,e){"use strict";t("JC.Panel",["JC.Panel.default","JC.Panel.popup","JC.Dialog","JC.Dialog.popup"],function(){return JC.use&&JC.PATH&&JC.use([JC.PATH+"comps/Panel/Panel.default.js",JC.PATH+"comps/Panel/Panel.popup.js",JC.PATH+"comps/Panel/Dialog.js",JC.PATH+"comps/Panel/Dialog.popup.js"].join()),JC.Panel})}("function"==typeof define&&define.amd?define:function(t,e,n){"function"==typeof t&&(n=t),"function"==typeof e&&(n=e),n&&n()},window),function(t,e){"use strict";t("JC.PopTips",["JC.BaseMVC"],function(){function t(e){return e&&(e=$(e)),t.getInstance(e)?t.getInstance(e):(t.getInstance(e,this),this._model=new t.Model(e),this._view=new t.View(this._model),void this._init())}return JC.PopTips=t,t.getInstance=function(e,n){return"string"!=typeof e||/</.test(e)||(e=$(e)),e&&e.length&&"string"!=typeof e?("undefined"!=typeof n&&e.data(t.Model._instanceName,n),e.data(t.Model._instanceName)):void 0},t.init=function(e){var n=[];return e=$(e||document),e.length&&(e.hasClass("js_compPopTips")?n.push(new t(e)):e.find("span.js_compPopTips,a.js_compPopTips,b.js_compPopTips,em.js_compPopTips").each(function(){n.push(new t(this))})),n},t.update=function(){var e=$(JC.f.printf("#{0}>div",t.Model._boxId));e.length&&e.each(function(){var t=$(this),e=t.data("CPopTipsIns");e&&e._model.layout().is(":visible")&&e.update()})},BaseMVC.build(t),JC.f.extendObject(t.prototype,{_beforeInit:function(){},_initHanlderEvent:function(){var t=this;t.on("CPopTipsUpdate",function(e){t._model.beforeShowCallback()&&t._model.beforeShowCallback().call(t,t.selector())});var e=null,n=null,i=null,o=null;"hover"==t._model.triggerType()&&(t._model.selector().on("mouseenter",function(){clearTimeout(i),clearTimeout(o),clearTimeout(e),clearTimeout(n),e=setTimeout(function(){t._view.update(),t._view.show()},50)}).on("mouseleave",function(){clearTimeout(i),clearTimeout(o),clearTimeout(e),clearTimeout(n),n=setTimeout(function(){t._view.hide()},200)}),t._model.layout().on("mouseenter",function(){clearTimeout(i),clearTimeout(o),clearTimeout(e),clearTimeout(n),i=setTimeout(function(){t._view.update(),t._view.show()},50)}).on("mouseleave",function(){clearTimeout(i),clearTimeout(o),clearTimeout(e),clearTimeout(n),o=setTimeout(function(){t._view.hide()},200)})),"click"==t._model.triggerType()&&t._model.selector().on("click",function(e){t._model.layout().is(":visible")?t._view.hide():(t._view.update(),t._view.show())})},_inited:function(){var t=$(this);t.trigger("CPopTipsUpdate")},update:function(){return this._view.update(),this}}),t.Model._instanceName="PopTips",t.Model._boxId="CPTBox",JC.f.extendObject(t.Model.prototype,{init:function(){},baseTpl:'<div class="CPT CPT_{0}" style="position:absolute;display:none;"><div class="CPT_shadow"><div class="CPT_container"><div class="CPT_arrow CPT_arrow_{1}"><em></em><span></span></div><div class="CPT_content"  data-role="content" {3}>{2}</div></div></div></div>',theme:function(){var t=this.stringProp("theme");return!t&&(t="yellow"),t},contents:function(){var t=this.attrProp("content")||this.attrProp("title");return!t&&(t=this.selector().text()),t},htmlContents:function(){var t,e=JC.f.parentSelector(this.selector(),this.attrProp("htmlContent"));return t=JC.f.scriptContent(e)},arrowPosition:function(){var t=this.stringProp("arrowPosition");return!t&&(t="left"),t},arrowPositionOffset:function(){var t=this.stringProp("arrowPositionOffset"),e=this.arrowPosition();return("left"===e||"right"===e)&&"top"!=t&&(t=""),("top"===e||"bottom"===e)&&("left"!=t||"right"!=t)&&(t=""),t},offsetXY:function(){var t=this.attrProp("offsetXY").split(","),e=parseInt(t[0],10)||0,n=parseInt(t[1],10)||0;return{x:e,y:n}},triggerType:function(){var t=this.stringProp("triggerType");return!t&&(t="hover"),t},layout:function(){var t=this,e=t.baseTpl;return this._layout||(this._layout=t.htmlContents()?$(JC.f.printf(e,t.theme(),t.arrowPosition(),t.htmlContents(),'style="width:'+t.layoutWidth()+";height:"+t.layoutHeight()+';"')).appendTo(this.layoutBox()):$(JC.f.printf(e,t.theme(),t.arrowPosition(),t.contents(),'style="width:'+t.layoutWidth()+";height:"+t.layoutHeight()+';"')).appendTo(this.layoutBox())),this._layout},layoutWidth:function(){var t=this.intProp("popTipsWidth");return t&&(t+="px"),!t&&(t="auto"),t},layoutHeight:function(){var t=this.intProp("popTipsHeight");return t&&(t+="px"),!t&&(t="auto"),t},layoutBox:function(){var e=$("#"+t.Model._boxId);return e&&e.length||(e=$(JC.f.printf('<div id="{0}"></div>',t.Model._boxId)).appendTo(document.body)),e},calcPosOffset:function(t,e,n,i){var o={},a=this,r=a.selector(),e={top:r.offset().top+a.offsetXY().y,left:r.offset().left+a.offsetXY().x,width:r.prop("offsetWidth"),height:r.prop("offsetHeight")},n=a.layout().outerWidth(),i=a.layout().outerHeight();switch(t){case"top":o={top:e.top+e.height+5,left:e.left+e.width/2-n/2};break;case"right":o={top:e.top+e.height/2-i/2,left:e.left-n-5};break;case"bottom":o={top:e.top-i-5,left:e.left+e.width/2-n/2};break;case"left":o={top:e.top+e.height/2-i/2,left:e.left+e.width+5}}return o.width=n,o.height=i,o},offSet:function(t){this.layout().css({top:t.top,left:t.left})},changePosition:function(t,e){var n,i=this;return n=i.calcPosOffset(t),i.changeArrow(e),("top"===e||"bottom"===e)&&i.offSet(n),n},changeArrow:function(t){var e=this;e.layout().find("div.CPT_arrow")[0].className="CPT_arrow CPT_arrow_"+t},setPosition:function(t,e){var n,i,o,a=this,r=$(window),l=r.outerHeight(),s=r.outerWidth(),u=r.scrollTop(),c=r.scrollLeft(),d=s+c,f=l+u,p=t.width+t.left,g=t.top+t.height,h=a.arrowPositionOffset();a.offSet(t),h&&(h="_"+h),"bottom"===e&&(t.top<0?(n="top",i="top"+h,a.changePosition(n,i)):a.changeArrow("bottom"+h)),"top"===e&&(g>f?(n="bottom",i="bottom"+h,o=a.changePosition(n,i)):a.changeArrow("top"+h)),"right"===e&&(t.left<0?(n="left",i="left"+h,o=a.changePosition(n,i),p=o.width+o.left,p>d?(n="bottom",i="bottom",o=a.changePosition(n,i),o.top<0&&(n="top",i="top",o=a.changePosition(n,i))):a.offSet(o)):a.changeArrow("right"+h)),"left"===e&&(p>d?(n="right",i="right"+h,o=a.changePosition(n,i),o.left<0?(n="bottom",i="bottom",o=a.changePosition(n,i),o.top<0&&(n="top",i="top",o=a.changePosition(n,i))):a.offSet(o)):a.changeArrow("left"+h))},beforeShowCallback:function(){var t=this,e=t.selector(),n="beforeShowCallback";return t.callbackProp(e,n)},afterHideCallback:function(){var t=this,e=t.selector(),n="afterShowCallback";return t.callbackProp(e,n)}}),JC.f.extendObject(t.View.prototype,{init:function(){},update:function(){var t,e=this,n=e._model.selector(),i={top:n.offset().top,left:n.offset().left,width:n.prop("offsetWidth"),height:n.prop("offsetHeight")},o=e._model.arrowPosition();t=e._model.calcPosOffset(o,i),e._model.setPosition(t,o),e._model.layout().data("CPopTipsIns",e)},show:function(){var t=this;t._model.layout().show()},hide:function(){var t=this;t._model.layout().hide(),t._model.afterHideCallback()&&t._model.afterHideCallback().call(t,t.selector())}}),$(document).ready(function(){var e=0;t.autoInit&&(e=t.init())}),$(window).on("resize",function(){JC.f.safeTimeout(function(){t.update()},null,"PopTipsResize",20)}),JC.PopTips})}("function"==typeof define&&define.amd?define:function(t,e,n){"function"==typeof t&&(n=t),"function"==typeof e&&(n=e),n&&n()},window),function(define,_win){"use strict";define("JC.Valid",["JC.common"],function(){function Valid(){var t=JC.f.sliceArgs(arguments);return t.length?Valid.check.apply(null,t):Valid._instance?Valid._instance:(Valid._instance=this,this._model=new Model,this._view=new View(this._model),void this._init())}function Model(){this._init()}function View(t){this._model=t}return window.JC=window.JC||{log:function(){}},JC.Valid=window.Valid=Valid,Valid.prototype={_init:function(){var t=this;return $([this._view,this._model]).on(Model.BIND,function(e,n,i){t.on(n,i)}),$([this._view,this._model]).on(Model.TRIGGER,function(e,n){var i=JC.f.sliceArgs(arguments).slice(2);t.trigger(n,i)}),t.on(Model.CORRECT,function(e){var n=JC.f.sliceArgs(arguments).slice(1);t._view.valid.apply(t._view,n)}),t.on(Model.ERROR,function(e){var n=JC.f.sliceArgs(arguments).slice(1);t._view.error.apply(t._view,n)}),t.on(Model.FOCUS_MSG,function(e){var n=JC.f.sliceArgs(arguments).slice(1);t._view.focusmsg.apply(t._view,n)}),this._view.init(),this},on:function(t,e){return $(this).on(t,e),this},trigger:function(t,e){return $(this).trigger(t,e),this},parse:function(t){var e=this,n=!0,t=$(t);if(!e._model.isAvalible(t))return n;if(!e._model.isValid(t))return n;if(Valid.ignore(t))return n;var i=e._model.parseDatatype(t),o=t.prop("nodeName").toLowerCase();switch(o){case"input":case"textarea":"file"!=(t.attr("type")||"").toLowerCase()&&e._model.isAutoTrim(t)&&t.val($.trim(t.val()))}if(!e._model.reqmsg(t))return t.attr("datatypestatus","false"),n=!1;if(!e._model.lengthValid(t))return t.attr("datatypestatus","false"),n=!1;if(i&&e._model[i]&&t.val()&&!e._model[i](t))return t.attr("datatypestatus","false"),n=!1;t.attr("datatypestatus","true");var a=t.attr("subdatatype");return a&&(a=a.replace(/[\s]+/g,"").split(/[,\|]/),$.each(a,function(i,o){return o=e._model.parseSubdatatype(o),o&&e._model[o]&&(t.val()||"alternative"==o)&&!e._model[o](t)?(n=!1,!1):void 0})),n&&e.trigger(Model.CORRECT,t),n},check:function(){var t,e,n=this,i=!0,o=JC.f.sliceArgs(arguments);return $.each(o,function(o,a){if(a=$(a),Valid.isFormValid=!1,n._model.isForm(a)){Valid.isFormValid=!0;var r=n._model.isErrorAbort(a),l=Valid.ignore(a);for(t=0,e=a[0].length;e>t;t++){var s=$(a[0][t]);if(n._model.isValid(s)&&(!l||s.val().trim())&&(!n.parse(s)&&(i=!1),r&&!i))break}}else if(Valid.isFormControl(a)){if(!n._model.isValid(a))return;!n.parse(a)&&(i=!1)}else!n.check(a.find(Valid._formControls))&&(i=!1)}),i},clearError:function(){var t=JC.f.sliceArgs(arguments);return $.each(t,function(t,e){$(e).each(function(){var t=$(this);switch(t.prop("nodeName").toLowerCase()){case"form":for(var e=0,n=t[0].length;n>e;e++)Valid.setValid($(t[0][e]),1,!0);break;default:Valid.setValid(t,1,!0)}})}),this},isValid:function(t){return this._model.isValid(t)}},Valid.checkAll=Valid.check=function(){return Valid.getInstance().check.apply(Valid.getInstance(),JC.f.sliceArgs(arguments))},Valid.getInstance=function(){return!Valid._instance&&new Valid,Valid._instance},Valid.checkTimeout=function(t,e){if(t&&(t=$(t)),t&&t.length){e=parseInt(t.attr("validCheckTimeout"))||e;var n="VALID_CHECK_TIMEOUT";e?(t.data(n)&&clearTimeout(t.data(n)),t.data(n,setTimeout(function(){Valid.check(t)},e))):Valid.check(t)}},Valid.dataValid=function(t,e,n,i){var o=!1,a="datavalidmsg";return t&&(t=$(t)),"undefined"!=typeof e?(o=e,t.attr("datavalid",e),n||(e?t.trigger("blur",[!0]):(i&&(a=" "+i),Valid.setError(t,a,!0)))):t&&t.length&&(o=JC.f.parseBool(t.attr("datavalid"))),o},Valid.isValid=function(t){return Valid.getInstance().isValid(t)},Valid.statusTimeout={valid:function(t,e){t&&(t=$(t)),t&&t.length&&(t.data(Model.TIMEOUT_VALID)&&clearTimeout(t.data(Model.TIMEOUT_VALID)),e&&Valid.statusTimeout.clear(),e&&t.data(Model.TIMEOUT_VALID,e))},error:function(t,e){t&&(t=$(t)),t&&t.length&&(t.data(Model.TIMEOUT_ERROR)&&clearTimeout(t.data(Model.TIMEOUT_ERROR)),e&&Valid.statusTimeout.clear(),e&&t.data(Model.TIMEOUT_ERROR,e))},focus:function(t,e){t&&(t=$(t)),t&&t.length&&(t.data(Model.TIMEOUT_FOCUS)&&clearTimeout(t.data(Model.TIMEOUT_FOCUS)),e&&Valid.statusTimeout.clear(),e&&t.data(Model.TIMEOUT_FOCUS,e))},success:function(t,e){t&&(t=$(t)),t&&t.length&&(t.data(Model.TIMEOUT_SUCCESS)&&clearTimeout(t.data(Model.TIMEOUT_SUCCESS)),e&&Valid.statusTimeout.clear(),e&&t.data(Model.TIMEOUT_SUCCESS,e))},clear:function(t){for(var e in Valid.statusTimeout)"clear"!=e&&Valid.statusTimeout[e](t)}},Valid.setValid=function(t,e,n,i){return t=$(t),t.each(function(t,o){o=$(this),Valid.statusTimeout.clear(o),$(Valid.getInstance()._view).trigger("setValid",[o,e,n,i])}),Valid.getInstance()},Valid.setError=function(t,e,n){return t=$(t),t.each(function(t,i){if(i=$(this),Valid.statusTimeout.clear(i),e&&e.trim()&&/^[\s]/.test(e)){var o="autoGenerateErrorMsg";i.attr(o,e),e=o}$(Valid.getInstance()._view).trigger("setError",[i,e,n])}),Valid.getInstance()},Valid.focusmsg=Valid.setFocusMsg=function(t,e,n){return t=$(t),t.each(function(t,i){if(i=$(this),Valid.statusTimeout.clear(i),"string"==typeof e&&(n=e,e=!1),n&&n.trim()&&/^[\s]/.test(n)){var o="autoGenerateFocusMsg";i.attr(o,n),n=o}Valid.getInstance().trigger(Model.FOCUS_MSG,[i,e,n])}),Valid.getInstance()},Valid.focusmsgEverytime=!0,Valid.emDisplayType="inline",Valid.showValidStatus=!1,Valid.clearError=function(){return Valid.getInstance().clearError.apply(Valid.getInstance(),JC.f.sliceArgs(arguments))},Valid.errorAbort=!1,Valid.autoTrim=!0,Valid.itemCallback,Valid.ignore=function(t,e){if(t=$(t),!t||!t.length)return!0;var n=!1;return"undefined"!=typeof e?(e?t.removeAttr("ignoreprocess"):t.attr("ignoreprocess",!0),n=!e):t.is("[ignoreprocess]")&&(n=(t.attr("ignoreprocess")||"").trim()?JC.f.parseBool(t.attr("ignoreprocess")):!0),n},Valid._formControls="input, select, textarea",Valid.isFormControl=function(t){var e=!1;return t&&(t=$(t)).length&&(e=t.is(Valid._formControls)),e},Valid.ignoreAutoCheckEvent=!1,Model.TRIGGER="TriggerEvent",Model.BIND="BindEvent",Model.ERROR="ValidError",Model.CORRECT="ValidCorrect",Model.FOCUS_MSG="ValidFocusMsg",Model.TIMEOUT_VALID="Valid_ValidTimeout",Model.TIMEOUT_ERROR="Valid_ErrorTimeout",Model.TIMEOUT_FOCUS="Valid_FocusTimeout",Model.TIMEOUT_SUCCESS="Valid_SuccessTimeout",Model.SELECTOR_ERROR="~ em.error, ~ em.errormsg",Model.CSS_ERROR="error errormsg",Model.FILTER_ERROR="em.error em.errormsg",Model.prototype={_init:function(){return this},parseDatatype:function(t){var e="";return e="string"==typeof t?t:t.attr("datatype")||"text",e.toLowerCase().replace(/\-.*/,"")},parseSubdatatype:function(t){var e="";return e="string"==typeof t?t:t.attr("subdatatype")||"",e.toLowerCase().replace(/\-.*/,"")},isAvalible:function(t){return(t.is(":visible")||this.isValidHidden(t))&&!t.is("[disabled]")},isForm:function(t){var e;return t.prop("nodeName")&&"form"==t.prop("nodeName").toLowerCase()&&(e=!0),e},isErrorAbort:function(t){var e=Valid.errorAbort;return t.is("[errorabort]")&&(e=JC.f.parseBool(t.attr("errorabort"))),e},isValid:function(t){t=$(t);var e,n;return t.each(function(){n=$(this),(n.is("[datatype]")||n.is("[subdatatype]")||n.is("[minlength]")||n.is("[maxlength]")||n.is("[reqmsg]")||n.is("form"))&&(e=!0)}),e},isAutoTrim:function(t){t=$(t);var e=Valid.autoTrim,n=JC.f.getJqParent(t,"form");return n&&n.length&&n.is("[validautotrim]")&&(e=JC.f.parseBool(n.attr("validautotrim"))),t.is("[validautotrim]")&&(e=JC.f.parseBool(t.attr("validautotrim"))),e},isReqmsg:function(t){return t.is("[reqmsg]")},isValidMsg:function(t){t=$(t);var e=Valid.showValidStatus,n=JC.f.getJqParent(t,"form");return n&&n.length&&n.is("[validmsg]")&&(e=JC.f.parseBool(n.attr("validmsg"))),t.is("[validmsg]")&&(e=JC.f.parseBool(t.attr("validmsg"))),e},isValidHidden:function(t){var e=!1;return t.is("[subdatatype]")&&/hidden/i.test(t.attr("subdatatype"))&&t.parent().is(":visible")&&(e=!0),e},validitemcallback:function(t){t=$(t);var e,n=Valid.itemCallback,i=JC.f.getJqParent(t,"form");return i&&i.length&&i.is("[validitemcallback]")&&(e=i.attr("validitemcallback"))&&(e=window[e])&&(n=e),t.is("[validitemcallback]")&&(e=t.attr("validitemcallback"))&&(e=window[e])&&(n=e),n},isMinlength:function(t){return t.is("[minlength]")},isMaxlength:function(t){return t.is("[maxlength]")},minlength:function(t){return parseInt(t.attr("minlength"),10)||0},maxlength:function(t){return parseInt(t.attr("maxlength"),10)||0},isMinvalue:function(t){return t.is("[minvalue]")},isMaxvalue:function(t){return t.is("[maxvalue]")},isDatatarget:function(t,e){var n=!1,i="datatarget";return e&&(e+=i)&&(n=t.is("["+e+"]")),!n&&(n=t.is("["+i+"]")),n},datatarget:function(t,e){var n,i="datatarget";return e&&(e+=i)&&(e=t.attr(e))&&(n=JC.f.parentSelector(t,e)),!(n&&n.length)&&(n=JC.f.parentSelector(t,t.attr(i))),n},minvalue:function(t,e){if("string"!=typeof e)return e?parseFloat(t.attr("minvalue"))||0:parseInt(t.attr("minvalue"),10)||0;var n=e.toLowerCase().trim();switch(n){default:return JC.f.parseDate(t.attr("minvalue"),t,!0)}},maxvalue:function(t,e){if("string"!=typeof e)return e?parseFloat(t.attr("maxvalue"))||0:parseInt(t.attr("maxvalue"),10)||0;var n=e.toLowerCase().trim();switch(n){default:return JC.f.parseDate(t.attr("maxvalue"),t,!0)}},lengthValid:function(t){var e,n,i,o=this,a=!0,t=$(t),r=o.parseDatatype(t),l=$.trim(t.val());if(!l)return a;switch(o.isMinlength(t)&&(e=o.minlength(t)),o.isMaxlength(t)&&(n=o.maxlength(t)),r){case"bytetext":i=o.bytelen(l);break;case"richtext":default:i=l.length}return e&&e>i&&(a=!1),n&&i>n&&(a=!1),JC.log("lengthValid: ",e,n,a,l.length),!a&&$(o).trigger(Model.TRIGGER,[Model.ERROR,t]),a},n:function(t,e){var n,i,o,a=this,r=!0,l=t.val().trim(),s=+l,u=0,c=10,d=Math.pow(10,c);return a.isMinvalue(t)&&(u=a.minvalue(t,/\./.test(t.attr("minvalue")))||u),/^[0]+$/.test(l)&&l.length>1&&(r=!1),r&&!isNaN(s)&&s>=u?(t.attr("datatype").replace(/^n[^\-]*\-(.*)$/,function(t,e){o=e.split("."),n=parseInt(o[0]),i=parseInt(o[1]),n>c&&(d=Math.pow(10,n))}),a.isMaxvalue(t)&&(d=a.maxvalue(t,/\./.test(t.attr("maxvalue")))),s>=u&&d>=s?("undefined"!=typeof n&&"undefined"!=typeof i&&(r=new RegExp("^(?:-|)(?:[\\d]{0,"+n+"}|)(?:\\.[\\d]{1,"+i+"}|)$").test(l)),"undefined"!=typeof n&&"undefined"==typeof i&&(r=new RegExp("^(?:-|)[\\d]{1,"+n+"}$").test(l)),"undefined"==typeof n&&"undefined"!=typeof i&&(r=new RegExp("^(?:-|)\\.[\\d]{1,"+i+"}$").test(l)),"undefined"==typeof i&&/\./.test(l)&&(r=!1)):r=!1):r=!1,!r&&!e&&$(a).trigger(Model.TRIGGER,[Model.ERROR,t]),r},nrange:function(t){var e,n,i,o=this,a=o.n(t);return a&&(t.is("[fromNEl]")&&(e=o.getElement(t.attr("fromNEl"),t),n=t),t.is("[toNEl]")&&(e=t,n=o.getElement(t.attr("toNEl"),t)),e&&e.length||n&&n.length||(i=o.sametypeitems(t),i.length>=2&&(e=$(i[0]),n=$(i[1]))),(e&&e.length||n&&n.length)&&(JC.log("nrange",e.length,n.length),n.val($.trim(n.val())),e.val($.trim(e.val())),n[0]!=e[0]&&n.val().length&&e.val().length))?(a&&(a=o.n(n,!0)),a&&(a=o.n(e,!0)),a&&+e.val()>+n.val()&&(a=!1),JC.log("nrange:",+e.val(),+n.val(),a),a&&$(o).trigger(Model.TRIGGER,[Model.CORRECT,e]),a&&$(o).trigger(Model.TRIGGER,[Model.CORRECT,n]),!a&&$(o).trigger(Model.TRIGGER,[Model.ERROR,e]),!a&&$(o).trigger(Model.TRIGGER,[Model.ERROR,n]),a):a},d:function(t,e){var n,i=this,o=$.trim(t.val()),a=!0,r=JC.f.parseDate(o,t);return o&&r?(i.isMinvalue(t)&&(n=i.minvalue(t,"d"))&&r.getTime()<n.getTime()&&(a=!1),a&&i.isMaxvalue(t)&&(n=i.maxvalue(t,"d"))&&r.getTime()>n.getTime()&&(a=!1)):o&&(a=!1),!a&&!e&&$(i).trigger(Model.TRIGGER,[Model.ERROR,t]),a},date:function(){return this.d.apply(this,JC.f.sliceArgs(arguments))},ddate:function(){return this.d.apply(this,JC.f.sliceArgs(arguments))},daterange:function(t){var e,n,i,o,a,r=this,l=r.d(t);return l&&(t.is("[fromDateEl]")&&(i=r.getElement(t.attr("fromDateEl"),t),o=t),t.is("[toDateEl]")&&(i=t,o=r.getElement(t.attr("toDateEl"),t)),i&&i.length&&o&&o.length||(a=r.sametypeitems(t),a.length>=2&&(i=$(a[0]),o=$(a[1]))),(i&&i.length||o&&o.length)&&(JC.log("daterange",i.length,o.length),o.val($.trim(o.val())),i.val($.trim(i.val())),o[0]!=i[0]&&o.val().length&&i.val().length&&(l&&(l=r.d(o,!0))&&(e=JC.f.parseDate(i.val(),i)),l&&(l=r.d(i,!0))&&(n=JC.f.parseDate(o.val(),o)),l&&e&&n&&e.getTime()>n.getTime()&&(l=!1),l&&$(r).trigger(Model.TRIGGER,[Model.CORRECT,i]),l&&$(r).trigger(Model.TRIGGER,[Model.CORRECT,o]),!l&&$(r).trigger(Model.TRIGGER,[Model.ERROR,i]),!l&&$(r).trigger(Model.TRIGGER,[Model.ERROR,o])))),l},drange:function(){return this.daterange.apply(this,JC.f.sliceArgs(arguments))},time:function(t){
var e=this,n=/^(([0-1]\d)|(2[0-3])):[0-5]\d:[0-5]\d$/.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},minute:function(t){var e=this,n=/^(([0-1]\d)|(2[0-3])):[0-5]\d$/.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},bankcard:function(t){var e=this,n=t.val().trim().replace(/[\s]+/g," ");t.val(n);var i=n.replace(/[^\d]/g,""),o=/^[0-9](?:[\d]{21}|[\d]{20}|[\d]{19}|[\d]{18}|[\d]{17}|[\d]{16}|[\d]{15}|[\d]{14}|[\d]{13}|[\d]{12}|[\d]{11}|)$/.test(i);return/^[0]+$/.test(i)&&(o=!1),!o&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),o},cnname:function(t,e){var n=this,i=n.bytelen(t.val())<=32&&/^[\u4e00-\u9fa5a-zA-Z.\u3002\u2022]{2,32}$/.test(t.val());return!e&&!i&&$(n).trigger(Model.TRIGGER,[Model.ERROR,t]),i},enname:function(t,e){var n=this,i=n.bytelen(t.val())<=32&&/^[a-zA-Z ]{2,32}$/.test(t.val());return!e&&!i&&$(n).trigger(Model.TRIGGER,[Model.ERROR,t]),i},allname:function(t){var e=this,n=e.bytelen(t.val())<=32&&(e.cnname(t,!0)||e.enname(t,!0));return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},username:function(t){var e=this,n=/^[a-zA-Z0-9][\w-]{2,30}$/.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},idnumber:function(t){var e=this,n=/^[0-9]{15}(?:[0-9]{2}(?:[0-9xX])|)$/.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},mobilecode:function(t,e){var n=this,i=/^(?:13|14|15|16|17|18|19)[\d]{9}$/.test(t.val());return!e&&!i&&$(n).trigger(Model.TRIGGER,[Model.ERROR,t]),i},mobile:function(t,e){return this.mobilecode(t,e)},mobilezonecode:function(t,e){var n=this,i=/^(?:\+[0-9]{1,6} |)(?:0|)(?:13|14|15|16|17|18|19)\d{9}$/.test(t.val());return!e&&!i&&$(n).trigger(Model.TRIGGER,[Model.ERROR,t]),i},phonecode:function(t){var e=this,n=/^[1-9][0-9]{6,7}$/.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},phone:function(t,e){var n=this,i=/^(?:0(?:10|2\d|[3-9]\d\d)(?: |\-|)|)[1-9][\d]{6,7}$/.test(t.val());return!e&&!i&&$(n).trigger(Model.TRIGGER,[Model.ERROR,t]),i},phoneall:function(t,e){var n=this,i=/^(?:\+[\d]{1,6}(?: |\-)|)(?:0[\d]{2,3}(?:\-| |)|)[1-9][\d]{6,7}(?:(?: |)(?:\#|\-)[\d]{1,6}|)$/.test(t.val());return!e&&!i&&$(n).trigger(Model.TRIGGER,[Model.ERROR,t]),i},phonezone:function(t){var e,n,i=this,o=t.val().trim(),a=/^[0-9]{3,4}$/;return n=t.attr("datatype").split("-"),n.length>1&&(a=new RegExp("^[0-9]{"+n[1]+"}$")),e=a.test(o),!e&&$(i).trigger(Model.TRIGGER,[Model.ERROR,t]),e},phoneext:function(t){var e=this,n=/^[0-9]{1,6}$/.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},mobilephone:function(t){var e=this,n=this.mobilecode(t,!0)||this.phone(t,!0);return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},mobilephoneall:function(t){var e=this,n=this.mobilezonecode(t,!0)||this.phoneall(t,!0);return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},reg:function(t){var e,n=this,i=!0;return t.is("[reg-pattern]")&&(e=t.attr("reg-pattern")),e||(e=$.trim(t.attr("datatype")).replace(/^reg(?:\-|)/i,"")),e.replace(/^\/([\s\S]*)\/([\w]{0,3})$/,function(e,n,o){JC.log(n,o),i=new RegExp(n,o||"").test(t.val())}),!i&&$(n).trigger(Model.TRIGGER,[Model.ERROR,t]),i},vcode:function(t){var e,n=this,i=parseInt($.trim(t.attr("datatype")).replace(/^vcode(?:\-|)/i,""),10)||4;return JC.log("vcodeValid: "+i),e=new RegExp("^[0-9a-zA-Z]{"+i+"}$").test(t.val()),!e&&$(n).trigger(Model.TRIGGER,[Model.ERROR,t]),e},text:function(t){return!0},bytetext:function(t){return!0},richtext:function(t){return!0},bytelen:function(t){return t.replace(/[^\x00-\xff]/g,"11").length},url:function(t){var e=this,n=/^(?:htt(?:p|ps)\:\/\/|)((?:(?:(?:\w[\.\-\+]*))\w)*)((?:(?:(?:\w[\.\-\+]*){0,62})\w)+)\.([a-z]{2,6})(?:\/[\w\/\.\#\+\-\~\%\?\_\=\&]*|)$/i.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},domain:function(t){var e=this,n=/^(?:htt(?:p|ps)\:\/\/|)((?:(?:(?:\w[\.\-\+]*))\w)*)((?:(?:(?:\w[\.\-\+]*){0,62})\w)+)\.([a-z]{2,6})(?:\/|)$/i.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},stricdomain:function(t){var e=this,n=/^((?:(?:(?:\w[\.\-\+]*))\w)*)((?:(?:(?:\w[\.\-\+]*){0,62})\w)+)\.([a-z]{2,6})$/i.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},email:function(t){var e=this,n=/^[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/i.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},countrycode:function(t){var e=this,n=t.val().trim(),i=/^(?:\+|)[\d]{1,6}$/.test(n);return!i&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),i},zipcode:function(t){var e=this,n=/^[0-9]{6}$/.test(t.val());return!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},taxcode:function(t){var e=this,n=!1,i=t.val().trim();return n=/^[\w]{15}$/.test(i)||/^[\w]{18}$/.test(i)||/^[\w]{20}$/.test(i),!n&&$(e).trigger(Model.TRIGGER,[Model.ERROR,t]),n},reconfirm:function(t){var e,n=this,i=!0,o="ReconfirmValidTime",a="reconfirm";JC.log(a,(new Date).getTime()),n.isDatatarget(t,a)&&(e=n.datatarget(t,a)),!(e&&e.length)&&(e=n.samesubtypeitems(t,a));var r=!1;return e&&e.length&&e.each(function(){var e=$(this);n.checkRepeatProcess(e,o,!0)&&(r=!0),t.val()!=$(this).val()&&(i=!1)}),!i&&e.length&&e.each(function(){t[0]!=this&&$(n).trigger(Model.TRIGGER,[Model.ERROR,$(this),"reconfirmmsg",!0])}),i&&e&&e.length&&e.each(function(){return t[0]!=this?r?!1:void $(n).trigger(Model.TRIGGER,[Model.CORRECT,$(this)]):void 0}),i?$(n).trigger(Model.TRIGGER,[Model.CORRECT,t]):$(n).trigger(Model.TRIGGER,[Model.ERROR,t,"reconfirmmsg",!0]),i},checkRepeatProcess:function(t,e,n,i){var o=(new Date).getTime(),a=!1;return i=i||200,t.data(e)&&o-t.data(e)<i&&(a=!0,t.data(e,o)),n&&t.data(e,o),a},alternative:function(t){var e,n=this,i=!0,o="AlternativeValidTime",a=n.parseDatatype(t),r="alternative";JC.log(r,(new Date).getTime()),n.isDatatarget(t,r)&&(e=n.datatarget(t,r)),!(e&&e.length)&&(e=n.samesubtypeitems(t,r));var l,s=!1;if(e.length&&!$.trim(t.val())){var u=!1;e.each(function(){var e=$(this);if(t[0]!=this)return n.checkRepeatProcess(e,o,!0)&&(s=!0),$(this).val()?(u=!0,!1):void 0}),i=u}if(!i&&e&&e.length&&e.each(function(){return t[0]!=this?s?!1:void $(n).trigger(Model.TRIGGER,[Model.ERROR,$(this),"alternativemsg",!0]):void 0}),i&&e&&e.length&&e.each(function(){if(t[0]!=this){var e=$(this),i=n.parseDatatype(e);if(i&&n[i]&&$(this).val())n[i]($(this));else if(!$(this).val()){$(n).trigger(Model.TRIGGER,[Model.CORRECT,$(this)]);var o=JC.f.parentSelector($(this),$(this).attr("reqtargetdatatarget"));o&&o.length&&$(n).trigger(Model.TRIGGER,[Model.CORRECT,o])}}}),i&&e&&e.length){var c=!1,d=[];if(e.each(function(){if(t[0]!=this){var e,n=$(this);n.is("[alternativeReqTarget]")&&(e=JC.f.parentSelector(n,n.attr("alternativeReqTarget")),e&&e.length&&e.each(function(){var t=$(this),e=t.val().trim();e||(d.push(t),c=!0)}))}}),t.is("[alternativeReqTarget]")&&(l=JC.f.parentSelector(t,t.attr("alternativeReqTarget")),l&&l.length&&l.each(function(){var t=$(this),e=t.val().trim();e||(d.push(t),c=!0)})),c&&d.length)return i=!1,$.each(d,function(t,e){e=$(e),$(n).trigger(Model.TRIGGER,[Model.ERROR,e,"alternativeReqmsg",!0])}),i}return i?a&&n[a]&&t.val()?n[a](t):t.val()||$(n).trigger(Model.TRIGGER,[Model.CORRECT,t]):$(n).trigger(Model.TRIGGER,[Model.ERROR,t,"alternativemsg",!0]),i},reqtarget:function(t){var e,n=this,i=!0,o=t.val().trim(),a=JC.f.parentSelector(t,t.attr("reqtargetdatatarget")||t.attr("datatarget"));return o&&a&&a.length?(e=a.val().trim(),!e&&(i=!1),!i&&$(n).trigger(Model.TRIGGER,[Model.ERROR,a,"reqtargetmsg",!0]),i&&a.trigger("blur")):a&&a.length&&a.trigger("blur"),i},unique:function(t){var e,n,i,o,a=this,r=!0,l=[],s=a.typeLen(t.attr("subdatatype"))[0],u="UniqueValidTime",c="unique",d=JC.f.parseBool(t.attr("uniqueIgnoreCase"));a.isDatatarget(t,c)&&(e=a.datatarget(t,c)),!(e&&e.length)&&(e=a.samesubtypeitems(t,c)),i=[],o=[];var f=!1;if(e&&e.length){n={},e.each(function(t){var e=$(this);if(!e.is("[processDisabled]")||e.attr("processDisabled")&&!JC.f.parseBool(e.attr("processDisabled"))){if(!a.isAvalible(e))return}else if(!e.is(":visible"))return;a.checkRepeatProcess(e,u,!0)&&(f=!0),t%s===0&&l.push([]),l[l.length-1]&&l[l.length-1].push(e)}),$.each(l,function(t,e){var i=[],o=!1;$.each(e,function(t,e){var n,a=JC.f.parseBool(e.attr("uniqueIgnoreEmpty"));n=$(e).val().trim(),a&&!n&&e.is(":visible")&&(o=!0),i.push(n)});var a=i.join(""),l=i.join("####");o||a&&(d&&(l=l.toLowerCase()),l in n?(n[l].push(e),r=!1):n[l]=[e])});for(var p in n)n[p].length>1?(r=!1,$.each(n[p],function(t,e){i=i.concat(e)})):$.each(n[p],function(t,e){o=o.concat(e)})}return $.each(o,function(t,e){var n=a.parseDatatype(e);n&&a[n]&&e.val()?a[n](e)&&Valid.setValid(e):Valid.setValid(e)}),!r&&i.length&&$.each(i,function(t,e){e=$(e);var n=e.val().trim();return f?!1:void(n&&n&&$(a).trigger(Model.TRIGGER,[Model.ERROR,e,"uniquemsg",!0]))}),r},datavalid:function(t){var e=!0,n=this;return Valid.isFormValid&&t.is("[datavalid]")?(JC.log("datavalid",(new Date).getTime()),e=JC.f.parseBool(t.attr("datavalid")),e||Valid.statusTimeout.error(t,setTimeout(function(){$(n).trigger(Model.TRIGGER,[Model.ERROR,t,"datavalidmsg",!0])},1)),e):e},typeLen:function(t){var e=[1];return t&&(t=t.replace(/[^\d\.]/g,""))&&(e=t.split("."))&&(e[0]=parseInt(e[0],10)||1,e[1]=parseInt(e[1],10)||0),e},findValidEle:function(t){var e,n=this,i="~ em.validmsg",o=t.find(i);return t.attr("validel")&&(e=n.getElement(t.attr("validel"),t,i)).length&&(o=e),o},findFocusEle:function(t){var e,n=this,i="~ em.focusmsg",o=t.find(i);return t.attr("focusel")&&(e=n.getElement(t.attr("focusel"),t,i)).length&&(o=e),o},findErrorEle:function(t){var e,n=this,i=Model.SELECTOR_ERROR,o=t.find(i);return t.attr("emel")&&(e=n.getElement(t.attr("emel"),t,i)).length&&(o=e),o},getElement:function(t,e,n){if(/^\^$/.test(t))n=n||Model.SELECTOR_ERROR,t=$(e.parent().find(n));else if(/^[\/\|\<\(]/.test(t))t=JC.f.parentSelector(e,t);else{if(/\./.test(t))return $(t);/^[\w-]+$/.test(t)&&(t="#"+t,t=$(t.replace(/[\#]+/g,"#")))}return $(t)},errorMsg:function(t,e,n){var i=t.is("[errmsg]")?" "+t.attr("errmsg"):t.is("[reqmsg]")?t.attr("reqmsg"):"";if(e&&(i=t.attr(e)||i),n&&i&&(i=" "+i),i="undefined"==(i||"").trim().toLowerCase()||void 0==typeof i?"":i,i&&!/^[\s]/.test(i))switch(t.prop("type").toLowerCase()){case"file":i="请上传"+i;break;case"select-multiple":case"select-one":case"checkbox":case"radio":case"select":i="请选择"+i;break;case"textarea":case"password":case"text":i="请填写"+i}return $.trim(i)},reqmsg:function(t){var e=!0,n=this;return n.isReqmsg(t)?(e=t.val()&&t.val().constructor==Array?!!$.trim(t.val().join("")+""):!!$.trim(t.val()||""),!e&&$(n).trigger(Model.TRIGGER,[Model.ERROR,t,"reqmsg"]),JC.log("regmsgValid: "+e),e):e},sametypeitems:function(t){var e=[],n=t.parent(),i=t.attr("datatype"),o=new RegExp(i,"i");return/select/i.test(t.prop("nodeName"))?n.find("[datatype]").each(function(){o.test($(this).attr("datatype"))&&e.push($(this))}):n.find("input[datatype]").each(function(){o.test($(this).attr("datatype"))&&e.push($(this))}),e.length?$(e):e},samesubtypeitems:function(t,e){var n=[],i=t.parent(),e=e||t.attr("subdatatype"),o=new RegExp(e,"i"),a=t.prop("nodeName").toLowerCase(),r="input";return/select/.test(a)?r="select":/textarea/.test(a)&&(r="textarea"),i.find(r+"[subdatatype]").each(function(){o.test($(this).attr("subdatatype"))&&n.push($(this))}),n.length?$(n):n},focusmsgeverytime:function(t){var e=Valid.focusmsgEverytime;return t.is("[focusmsgeverytime]")&&(e=JC.f.parseBool(t.attr("focusmsgeverytime"))),e},validemdisplaytype:function(t){t&&(t=$(t));var e,n=Valid.emDisplayType,i=JC.f.getJqParent(t,"form");return i&&i.length&&i.is("[validemdisplaytype]")&&(e=i.attr("validemdisplaytype"))&&(n=e),t.is("[validemdisplaytype]")&&(e=t.attr("validemdisplaytype"))&&(n=e),n},checkedType:function(t,e){t&&(t=$(t)),e=e||"checkbox";var n,i,o=this,a=!0,r=1,l=0,s=t,u="label"==t.parent().prop("nodeName").toLowerCase(),c=e+"finder";return JC.log(t.attr("name")+", "+t.val()),t.is("[datatarget]")?(n=JC.f.parentSelector(t,t.attr("datatarget")),i=[],n.each(function(){var t=$(this);t.is(":visible")&&!t.prop("disabled")&&i.push(t)}),n=$(i)):(u?(s=s.is("["+c+"]")?JC.f.parentSelector(t,t.attr(c)):t.parent().parent(),i=JC.f.parentSelector(s,"|input[datatype]")):i=JC.f.parentSelector(s,"/input[datatype]"),n=[],i.each(function(){var t=$(this),i=new RegExp(e,"i");i.test(t.attr("datatype"))&&t.is(":visible")&&!t.prop("disabled")&&n.push(t)}),n=$(n)),u&&n.each(function(){var t=$(this);t.is("[emel]")||t.attr("emel","//em.error"),t.is("[validel]")||t.attr("validel","//em.validmsg"),t.is("[focusel]")||t.attr("focusel","//em.focusmsg")}),n.length&&$(t=n[n.length-1]).data("Last"+e,!0),n.length&&(t.is("[datatype]")&&t.attr("datatype").replace(/[^\-]+?\-([\d]+)/,function(t,e){r=parseInt(e,10)||r}),n.length>=r&&(n.each(function(){$(this).prop("checked")&&l++}),r>l&&(a=!1)),!a&&$(o).trigger(Model.TRIGGER,[Model.ERROR,t])),a},checkbox:function(t){return this.checkedType(t,"checkbox")},radio:function(t){return this.checkedType(t,"radio")},file:function(t){var e,n=this,i=!0,o=t.val().trim().toLowerCase(),a=n.dataFileExt(t);return a.length&&(i=!1,$.each(a,function(t,n){return n+="$",e=new RegExp(n,"i"),e.test(o)?(i=!0,!1):void 0})),!i&&$(n).trigger(Model.TRIGGER,[Model.ERROR,t]),i},dataFileExt:function(t){var e,n=[];return t.is("[fileext]")&&(e=t.attr("fileext").replace(/[\s]+/g,""))&&(e=e.replace(/\./g,"\\."))&&(n=e.toLowerCase().split(",")),n},ignoreAutoCheckEvent:function(t){var e,n=Valid.ignoreAutoCheckEvent;return t&&(t=$(t)),t&&t.length&&(e=JC.f.getJqParent(t,"form"),e&&e.length&&e.is("[ignoreAutoCheckEvent]")&&(n=JC.f.parseBool(e.attr("ignoreAutoCheckEvent"))),t.is("[ignoreAutoCheckEvent]")&&(n=JC.f.parseBool(t.attr("ignoreAutoCheckEvent")))),n}},View.prototype={init:function(){var t=this;return $(t).on("setValid",function(e,n,i,o,a){var r;n.removeClass(Model.CSS_ERROR),n.find(JC.f.printf('~ em:not("em.focusmsg, em.validmsg, {0}")',Model.FILTER_ERROR)).css("display",t._model.validemdisplaytype(n)),n.find(Model.SELECTOR_ERROR).hide(),n.attr("emel")&&(r=t._model.getElement(n.attr("emel"),n))&&r.hide(),"undefined"==typeof o&&"object"!=typeof n.val()&&!n.val().trim()&&(o=1),t.validMsg(n,o,a)}),$(t).on("setError",function(e,n,i,o){var a,r,l,s=t._model.errorMsg.apply(t._model,[n,i,o]);n.addClass(Model.CSS_ERROR),n.find(JC.f.printf("~ em:not({0})",Model.FILTER_ERROR)).hide(),n.is("[validel]")&&(r=t._model.getElement(n.attr("validel"),n))&&r.hide(),n.is("[focusel]")&&(l=t._model.getElement(n.attr("focusel"),n))&&l.hide(),n.is("[emEl]")&&(a=t._model.getElement(n.attr("emEl"),n))&&a.addClass(Model.CSS_ERROR),!(a&&a.length)&&(a=n.find(Model.SELECTOR_ERROR)),a.length||(a=$(JC.f.printf('<em class="{0}"></em>',Model.CSS_ERROR))).insertAfter(n),!s.trim()&&(s="&nbsp;"),a.html(s).css("display",t._model.validemdisplaytype(n)),JC.log("error:",s)}),this},valid:function(t,e,n){t&&(t=$(t));var i,o=this;t.data("JCValidStatus",!0);var a=!JC.f.parseBool(t.attr("validnoerror"));Valid.statusTimeout.valid(t,setTimeout(function(){$(o).trigger("setValid",[t,e,n,a]),(i=o._model.validitemcallback(t))&&i(t,!0)},e||150))},validMsg:function(t,e,n){var i,o=this,a=(t.attr("validmsg")||"").trim().toLowerCase();if(o._model.isValidMsg(t)){("true"==a||"1"==a)&&(a=""),!a.trim()&&(a="&nbsp;");var r=o._model.findFocusEle(t),l=o._model.findValidEle(t),s=o._model.findErrorEle(t);!l.length&&(l=$('<em class="validmsg"></em>'),t.after(l)),l.html(a),e?l.hide():(l.css("display",o._model.validemdisplaytype(t)),r&&r.hide(),s&&s.hide())}else n&&(i=o._model.findFocusEle(t))&&i.hide()},error:function(t,e,n){t&&(t=$(t));{var i,o=this;arguments}return t.is("[validnoerror]")?!0:(t.data("JCValidStatus",!1),Valid.statusTimeout.error(t,setTimeout(function(){$(o).trigger("setError",[t,e,n]),(i=o._model.validitemcallback(t))&&i(t,!1)},150)),!1)},focusmsg:function(t,e,n){if(t&&(t=$(t)).length&&(t.is("[focusmsg]")||n&&t.is("["+n+"]"))){JC.log("focusmsg",(new Date).getTime());var i,o=this,a=o._model.findFocusEle(t),r=o._model.findValidEle(t),l=o._model.findErrorEle(t),s=t.attr("focusmsg");if(n&&(s=t.attr(n||s)),e&&a&&a.length)return void a.hide();if(l.length&&l.is(":visible")&&l.hide(),r.length&&r.is(":visible"))return;!a.length&&(a=$('<em class="focusmsg"></em>'),t.after(a)),t.is("[validnoerror]")?i=Valid.check(t):(t.attr("validnoerror",!0),i=Valid.check(t),t.removeAttr("validnoerror")),!s.trim()&&(s="&nbsp;"),o._model.focusmsgeverytime(t)?a.html(s).css("display",o._model.validemdisplaytype(t)):i&&a.html(s).css("display",o._model.validemdisplaytype(t))}}},$(document).delegate("input[type=text], input[type=password], textarea","blur",function(t){var e=$(this),n=Valid.getInstance();n._model.ignoreAutoCheckEvent(e)||(n.trigger(Model.FOCUS_MSG,[e,!0]),Valid.checkTimeout(e))}),$(document).delegate("input","blur",function(t){var e=$(this),n=Valid.getInstance();e.attr("type")||n._model.ignoreAutoCheckEvent(e)||(n.trigger(Model.FOCUS_MSG,[e,!0]),Valid.checkTimeout(e))}),$(document).delegate("select, input[type=file], input[type=checkbox], input[type=radio]","change",function(t,e){if(!e){var n=$(this),i=Valid.getInstance();i._model.ignoreAutoCheckEvent(n)||Valid.checkTimeout(n)}}),$(document).delegate("input[type=text], input[type=password], textarea, select, input[type=file], input[type=checkbox], input[type=radio]","focus",function(t){var e=$(this),n=Valid.getInstance(),i=e.val().trim();n._model.ignoreAutoCheckEvent(e)||(n.trigger(Model.FOCUS_MSG,[e]),!i&&Valid.setValid(e))}),$(document).delegate("select, input[type=file], input[type=checkbox], input[type=radio]","blur",function(t){var e=$(this),n=Valid.getInstance();n._model.ignoreAutoCheckEvent(e)||n.trigger(Model.FOCUS_MSG,[e,!0])}),$(document).delegate("input[type=hidden][subdatatype]","change",function(t){var e,n=$(this),i=Valid.getInstance(),o=!1;i._model.ignoreAutoCheckEvent(n)||(n.is("[subdatatype]")&&(o=/hidden/i.test(n.attr("subdatatype"))),n.data("HID_CHANGE_CHECK")&&(e=(new Date).getTime()-n.data("HID_CHANGE_CHECK"),50>e)||n.val()&&(n.data("HID_CHANGE_CHECK",(new Date).getTime()),JC.log("hidden val",(new Date).getTime(),n.val()),Valid.checkTimeout($(this))))}),$(document).delegate("input[type=text][subdatatype]","keyup",function(_evt){var _sp=$(this),_isDatavalid=/datavalid/i.test(_sp.attr("subdatatype"));if(_isDatavalid&&!_sp.prop("disabled")&&!_sp.prop("readonly")){Valid.dataValid(_sp,!1,!0);var _keyUpCb;_sp.attr("datavalidKeyupCallback")&&(_keyUpCb=window[_sp.attr("datavalidKeyupCallback")])&&_keyUpCb.call(_sp,_evt),_sp.data("DataValidInited")||(_sp.data("DataValidInited",!0),_sp.data("DataValidCache",{}),_sp.on("DataValidUpdate",function(t,e,n){var i,o;if(JC.f.parseBool(_sp.attr("datavalidNoCache")))o=n;else{if(!_sp.data("DataValidCache"))return;o=_sp.data("DataValidCache")[e]}o&&("suchestest"===e&&(o.data.errorno=0),Valid.dataValid(_sp,!o.data.errorno,!1,o.data.errmsg),_sp.attr("datavalidCallback")&&(i=window[_sp.attr("datavalidCallback")])&&i.call(_sp,o.data,o.text))}),_sp.on("DataValidVerify",function(_evt,_ignoreStatus,_cb){function innerDone(t){if(_strData=t,"string"==typeof t)try{t=$.parseJSON(t)}catch(e){t={errorno:1}}var n={key:_v,data:t,text:_strData};!JC.f.parseBool(_sp.attr("datavalidNoCache"))&&(_sp.data("DataValidCache")[_v]=n),_sp.trigger("DataValidUpdate",[_v,n]),_cb&&_cb.call(_sp,n)}var _v=_sp.val().trim(),_tmp,_strData,_url=_sp.attr("datavalidurl"),_datavalidCheckCallback;if(_v)return _sp.attr("datavalidCheckCallback")&&(_datavalidCheckCallback=window[_sp.attr("datavalidCheckCallback")]),_datavalidCheckCallback?void innerDone(_datavalidCheckCallback.call(_sp)):void(_url&&(_sp.data("DataValidTm")&&clearTimeout(_sp.data("DataValidTm")),_sp.data("DataValidTm",setTimeout(function(){if(_v=_sp.val().trim(),_v&&(_v=JC.f.encoder(_sp)(_v),_ignoreStatus||_sp.data("JCValidStatus"))){if(_url=JC.f.printf(_url,_v),_sp.attr("datavalidUrlFilter")&&(_tmp=window[_sp.attr("datavalidUrlFilter")])&&(_url=_tmp.call(_sp,_url)),_v in _sp.data("DataValidCache"))return void _sp.trigger("DataValidUpdate",_v);var _ajaxType="get",_requestData;if(_sp.attr("datavalidAjaxType")&&(_ajaxType=_sp.attr("datavalidAjaxType")||_ajaxType),_sp.attr("datavalidRequestData"))try{_requestData=eval("("+_sp.attr("datavalidRequestData")+")")}catch(ex){}_requestData=_requestData||{},"post"==_ajaxType.toLowerCase()?$.post(_url,_requestData).done(innerDone):$.get(_url,_requestData).done(innerDone)}},151))))}),_sp.on("blur",function(t,e){JC.log("datavalid",(new Date).getTime()),e||_sp.trigger("DataValidVerify")}))}}),JC.Valid})}("function"==typeof define&&define.amd?define:function(t,e,n){"function"==typeof t&&(n=t),"function"==typeof e&&(n=e),n&&n()},window),define("zlang.config",[],function(){Zlib.conf={domain:ZlibRootDomain,cookiePath:"/",expireDay:10,unreadUrl:ZlibDomain+"ajax/msg/getUnreadNum",unreadTime:36e5,dialogLogin:ZlibDomain+"ajax/user/login",dialogBuyChapter:ZlibDomain+"buy/index/ajaxChapter",maxLikeTag:4}}),define("zlang.dialog.login",["JC.Dialog","JC.Valid","zlang.config"],function(t,e){function n(){if($(".recommend-list").length){var t=$(".fs-rcm").find("li.on");t.find(".dtl-box").length&&t.removeClass("on")}}var i,o={},a=Zlib.conf.dialogLogin,r=".login-btn,.call-log",l=null;return o.init=function(){o.login()},o.show=function(){return l&&l.layout().find("#logForm").length?(n(),l.center().show(),void i.find(".ipt-name").focus()):void Zlib.tool.ajax(a).done(function(e){n(),l=t(e.html),l.center().show(),i=$("#logForm"),i.find("input[name=domain]").val(window.location.host),setTimeout(function(){i.find(".ipt-name").focus()},80),window.lowie&&requirejs(["jquery.placeholder"],function(t){$("input",i).placeholder({customClass:"cls-placeholder"})})})},o.login=function(){return},$(function(){$(document).on("click",r,function(){o.show()})}),o}),function(t){"function"==typeof define&&define.amd?define("jquery.xdomainrequest",[],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(){if(!$.support.cors&&$.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,e=/^get|post$/i,n=new RegExp("^"+location.protocol,"i");$.ajaxTransport("* text html xml json",function(i,o,a){if(i.crossDomain&&i.async&&e.test(i.type)&&t.test(i.url)&&n.test(i.url)){var r=null;return{send:function(t,e){var n="",a=(o.dataType||"").toLowerCase();r=new XDomainRequest,/^\d+$/.test(o.timeout)&&(r.timeout=o.timeout),r.ontimeout=function(){e(500,"timeout")},r.onload=function(){var t="Content-Length: "+r.responseText.length+"\r\nContent-Type: "+r.contentType,n={code:200,message:"success"},i={text:r.responseText};try{if("html"===a||/text\/html/i.test(r.contentType))i.html=r.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(r.contentType))try{i.json=$.parseJSON(r.responseText)}catch(o){n.code=500,n.message="parseerror"}else if("xml"===a||"text"!==a&&/\/xml/i.test(r.contentType)){var l=new ActiveXObject("Microsoft.XMLDOM");l.async=!1;try{l.loadXML(r.responseText)}catch(o){l=void 0}if(!l||!l.documentElement||l.getElementsByTagName("parsererror").length)throw n.code=500,n.message="parseerror","Invalid XML: "+r.responseText;i.xml=l}}catch(s){throw s}finally{e(n.code,n.message,i,t)}},r.onprogress=function(){},r.onerror=function(){e(500,"error",{text:r.responseText})},o.data&&(n="string"===$.type(o.data)?o.data:$.param(o.data)),r.open(i.type,i.url),r.send(n)},abort:function(){r&&r.abort()}}}})}}),define("zlang.tool",["JC.common","jquery.xdomainrequest"],function(t){Zlib.tool.setRead=function(t){var e="."+Zlib.conf.domain,n="read_history",i=(document.cookie,new RegExp("(^| )"+n+"=([^;]*)(;|$)")),o="";try{arr=document.cookie.match(i),o=arr[2]}catch(a){o=""}if(""==o)o=t;else{o=o.substr(1),o=o.substr(0,o.length-1),o=o.split(",");for(k in o)if(o[k]==t)return!1;o.length>=10&&o.pop(),o.unshift(t),o=o.join(",")}o="["+o+"]";var r=new Date,l=Zlib.conf.expireDay;r.setTime(r.getTime()+24*l*3600*1e3),document.cookie=n+"="+o+";domain="+e+";path="+Zlib.conf.cookiePath+";expires="+r.toGMTString()},Zlib.tool.getUnreadPm=function(){if(window.zluser&&zluser.uid&&$(".top-msg").length){var t=Zlib.conf.unreadUrl;$.ajax({type:"post",url:t,dataType:"jsonp",success:function(t){t.code>0&&(t.total>0?$(".user_unread_msg_num").html(t.total).show():$(".user_unread_msg_num").hide())}}),setTimeout(arguments.callee,Zlib.conf.unreadTime)}},Zlib.tool.selectChangeUrl=function(t,e,n,i){var o=$(t).find("option:selected").val(),a=i;o>0&&(a=e+"?"+n+"="+o),window.location.href=a},Zlib.tool.closePanel=function(){var t=$(".UPanel"),e=$(".UPanelMask"),n=$(".UPanelMaskIframe");t.remove(),e.remove(),n.remove()},Zlib.tool.showFail=function(t,e,n){var i=t,e=e&&$(e);JC.msgbox(i,e,1,n)},Zlib.tool.showSucc=function(t,e,n){var t=t||"操作成功!",e=e&&$(e);JC.msgbox(t,e,0,n)},Zlib.tool.ajax=function(t,e,n,i,o,a){var t=arguments[0]||"";if(""!=t){var e=arguments[1]||"GET",n=arguments[2]||"",i=arguments[3]||"json",o=arguments[4]||!0,a=arguments[5]||1;""==n&&(e="GET"),e=e.toUpperCase();var r=window.location.host!="www."+ZlibRootDomain;if(window.XDomainRequest&&r,1==a&&document.cookie.length>0){var l="PHPSESSID";if(c_start=document.cookie.indexOf(l+"="),-1!=c_start){c_start=c_start+l.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length);var a=unescape(document.cookie.substring(c_start,c_end));t+=t.indexOf("?")>0?"&zlsessionid="+a:"?zlsessionid="+a}}return $.ajax({url:t,type:e,dataType:i,xhrFields:{withCredentials:!0},async:o,data:n})}},Zlib.tool.setCookie=function(t,e,n){var i="."+Zlib.conf.domain,o=Zlib.conf.cookiePath,a=new Date,r=arguments[2]||Zlib.conf.expireDay;"now"==r?document.cookie=t+"="+e+";domain="+i+";path="+o:(a.setTime(a.getTime()+24*r*3600*1e3),document.cookie=t+"="+e+";domain="+i+";path="+o+";expires="+a.toGMTString())},Zlib.tool.getCookie=function(t){var e=arguments[1]||"",n=(document.cookie,new RegExp("(^| )"+t+"=([^;]*)(;|$)")),i="";try{arr=document.cookie.match(n),i=arr[2]}catch(o){i=e}return i},setTimeout(function(){Zlib.tool.getUnreadPm()},4e3)}),define("util",["domReady","lazyload","JC.common","JC.Panel","JC.Valid","zlang.dialog.login","zlang.tool"],function(t,e,n,i,o,a){var r={};return r.ui={},r.bs={},r.io={},r.url={},r["package"]={},r.status={postLinkInited:!1,isTest:"file:"==document.location.protocol},JC.Panel.clickClose=!1,window.isTest=window.isTest||r.status.isTest,r.io.getErrorMsg=function(t){var t=t,e=t.code,n="";return n=t.msg?t.msg:0==e?"操作成功！":"操作失败~"},r.ui={showFail:function(t,e,n){var i=t,e=e&&$(e);JC.msgbox(i,e,1,n)},showSucc:function(t,e,n){var t=t||"操作成功!",e=e&&$(e);JC.msgbox(t,e,0,n)},showAlert:function(t,e,n){var t=t||"操作失败!",e=e&&$(e);JC.msgbox(t,e,2,n)},clearPopup:function(){}},r.ui.loadimg=function(t,e){var t=$(t),n="imgLoadFlag";if(!t.data(n)){var i=t.find("img[data-src]");i.length&&(i.each(function(){var t=$(this),e=t.data("src");t.attr("src",e).removeData("src")}),t.data(n,1))}},r["package"].textareaCounter=function(){var t=$("textarea[data-counter]");if(t.length){var e;t.each(function(t){$(this).on("focus",function(){e&&clearInterval(e),e=null;var t=$(this),n=t.data("counter"),i=t.attr("maxlength")||~~t.data("maxlength");if(n.indexOf("|")>0){var o=n.split("|"),a=o[0],r=o[1];n=t.closest(a).find(r)}else n=$(n);var l=t.closest("form");l.length&&l.on("reset",function(){t.focus()}),e=setInterval(function(){var e=$.trim(t.val()),o=e.length;o>i?(n.html("<em><strong>"+o+"</strong></em>/"+i),t.addClass("pub-disable")):(n.html("<em>"+o+"</em>/"+i),t.removeClass("pub-disable"))},100)}).on("blur",function(){e&&clearInterval(e)})})}},r.ui.cur=function(t,e,n){var t=$(t)||t,n=n||"",i=e||"cur";t.addClass(i).siblings(n).removeClass(i)},r.ui.tab=function(t,e,n,i,o){{var o=o||"click",a=$(t).find(e),l=$(n).find(i);a.toArray()}a.on(o,function(t){var e=$(this),n=e.index(),o=l.eq(n),a=r.ui.cur;a(this,"cur"),o.show().siblings(i).hide(),e.blur(),r.ui.loadimg(o),t.preventDefault()})},r.url.refresh=function(t){var e=window.location.href,n=parseInt(t)?1e3*t:0;setTimeout(function(){window.location=JC.f.addUrlParams(e,{__t:1*new Date})},n)},r.io.parseJson=function(t){try{if("object"==typeof t)return t;if("string"==typeof t)return JSON.parse(t)}catch(e){console.log("parseJson error \n org-data: \n "+t)}},r.io.getTmp=function(t){return JC.f.scriptContent("#"+t)},r.io.handleJson=function(t,e){var t=r.io.parseJson(t);e&&"function"==typeof e&&e(t)},r.io.ajaxRes=function(t){var t=r.io.parseJson(t);return 0!=t.errorno?r.io.getErrorMsg(t.errorno):"ok"},function(t){function e(){var t={};if(document.cookie){var e=document.cookie.split("; ");for(var n in e){var i=e[n].indexOf("="),o=e[n].substr(0,i),a=e[n].substr(i+1,e[n].length);t[o]=a}}return t}function n(t,e,n){if(t&&e){var i=encodeURIComponent(t)+"="+encodeURIComponent(e);return n&&(n.maxAge&&(i+="; max-age="+n.maxAge),n.path&&(i+="; path="+n.path),n.domain&&(i+="; domain="+n.domain),n.secure&&(i+="; secure")),document.cookie=i,i}return""}function i(t){return decodeURIComponent(e()[t])||null}function o(t){e()[t]&&(document.cookie=t+"=; max-age=0")}function a(){var t=e();for(var n in t)document.cookie=n+"=; max-age=0"}function r(t){return e()}function l(t){return t&&"string"==typeof t?t&&window.cookie?(window[t]=window.cookie,delete window.cookie,window[t]):void 0:window.cookie}t.cookie={getCookies:r,set:n,get:i,remove:o,clear:a,noConflict:l}}(r.io),r.io.getBookFace=function(t){var e="http://images.zhulang.com/book_cover/image/";return e+[Math.floor(t/1e4),Math.floor(t%1e4/100),t].join("/")+".jpg"},r.ui.fadeRemove=function(t,e){$(t).fadeOut(e||600,function(){setTimeout(function(){$(t).remove()})})},r.io.getLogStat=function(){var t=window.zluser&&zluser.uid||$(".after-login").length;return window.userLoged=t,t},r.ui.dis=function(t){},r.ui.ena=function(t){},r.ui.ena2=function(t){var e="disabled";t&&t.each(function(t){$(this).removeClass(e).removeAttr(e)})},r.ui.dis2=function(t){var e="disabled";t&&t.each(function(t){$(this).attr(e,e).addClass(e)})},r.ui.doneRefresh=function(t,e){r.ui.showSucc(null,t),r.url.refresh(e)},r.ui.doneRedirect=function(t,e){r.ui.showSucc(null,t),setTimeout(function(){window.location=e},2e3)},r.io.xssEscape=function(t){return t=String(null===t?"":t),t.replace(/&(?!\w+;)|["'<>\\]/g,function(t){switch(t){case"&":return"&amp;";case"\\":return"\\\\";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return t}})},$(function(){$('[data-role="tab"]').each(function(){var t=$(this),e=t.data("tag"),n=t.data("con"),i=$(n).data("tag"),o=t.data("act")||"click";r.ui.tab(t,e,n,i,o),$(e).filter(".cur").trigger(o)}),r.ui.tab(".smp-tab","li",".smp-con","table");var t=$("textarea[data-counter]");t.length&&r["package"].textareaCounter()}),r["package"].postLinkCtl=function(){function t(t){var e=r.url.refresh,n=t.data("doneurl")||null,i=t.data("done")||null,o={no:function(){},refresh:r.url.refresh,"go-1":function(){window.history.go(-1)},rmtr:function(){var e=t.parents("tr");e.fadeOut(600,function(){e.remove()})},rmli:function(){var e=t.parents("li");e.fadeOut(600,function(){e.remove()})}};n?e=function(){window.location=n}:i&&(e=o[i]),r.ui.showSucc(null,t,e),setTimeout(e,2e3)}function e(e){var n=e,i=n.data("api")||window.location.href.split("#")[0],o=n.data("post");Zlib.tool.ajax(i,"POST",o).done(function(i){var i=r.io.parseJson(i);i.code<=0?r.ui.onAjaxRetFail(i,n):t(e)}).fail(function(){r.ui.showFail("操作失败，请稍后重试"),r.ui.ena(n)})}if(!r.status.postLinkInited){var n=".js-post-link",i=document;$(i).delegate(n,"click",function(t){var n=$(this),i=n.data("cfmmsg")||n.data("cfm"),o=n.text().indexOf("删除")>=0?1:2;if(i){var a=n.data("cfmmsg")||""+n.data("cfm"),r=a&&a.length>=3?a:"确实要"+n.text()+"么？";JC.confirm(r,this,o).on("confirm",function(){e(n)})}else e(n)}),r.status.postLinkInited=!0}},r["package"].formValidCtl=function(){var t=document;$(t).on("focus","form[ignoreAutoCheckEvent] input,form[ignoreAutoCheckEvent] select,form[ignoreAutoCheckEvent] textarea ",function(t){o.clearError($(this))}),$(t).on("submit",".valid-form",function(t){return o($(this))})},r["package"].ajaxFormCtl=function(){var t=document;$(t).on("submit",".ajax-form",function(t){t.preventDefault();var e=$(this);if(!e.hasClass("valid-form")||o(e)){var n=e.attr("action")||window.location.href.split("#")[0],i=e.serialize(),l=e.attr("method")||"POST",s=e.find(":submit");

return r.ui.dis(s),Zlib.tool.ajax(n,l,i).done(function(t){var t=r.io.parseJson(t);t.code<=0?-400==t.code?a.show():r.ui.onAjaxRetFail(t,s):(r.ui.onAjaxRetSucc(t,s),t.url?setTimeout(function(){window.location=t.url},2e3):r.url.refresh(2))}).fail(function(){r.ui.showFail("操作失败，请稍后重试"),r.ui.ena(s)}),!1}})},r.ui.onAjaxRetSucc=function(t,e){var n=r.io.getErrorMsg(t);t.data&&t.data.tmp?(JC.hideAllPanel(),JC.Dialog(t.data.tmp),e&&r.ui.ena(e)):n&&r.ui.showSucc(n,e,function(){e&&r.ui.ena(e)})},r.ui.onAjaxRetFail=function(t,e){var n=r.io.getErrorMsg(t);t.data&&t.data.tmp?(JC.hideAllPanel(),JC.Dialog(t.data.tmp),e&&r.ui.ena(e)):n&&r.ui.showFail(n,e,function(){e&&r.ui.ena(e)})},r.ui.onAjaxResult=function(t,e){0!=t.errorno?r.ui.onAjaxRetFail(t,e):r.ui.onAjaxRetSucc(t,e)},r["package"].txtlabCtl=function(){var t=".txtlab",e=document,n="lab-on";$(t).each(function(){var t=$(this),e=t.find("input"),i=e.prop("checked");i&&t.addClass(n)}),$(e).on("click",t,function(){var t=$(this),e=t.find("input"),i="radio"==e.attr("type"),o=(e.attr("name"),e.attr("disabled")||e.attr("readonly"));if(!o)return i?(t.addClass(n),e.prop("checked",!0),t.siblings("label.txtlab").removeClass(n)):(t.toggleClass(n),e.prop("checked",t.hasClass(n))),!1})},$(function(){r["package"].postLinkCtl(),r["package"].formValidCtl(),r["package"].ajaxFormCtl(),r["package"].txtlabCtl(),$("img[data-src]").length&&setTimeout(e.init,100),App.ui=$.extend(App.ui,r.ui),r.io.getLogStat()}),function(t){var e=0;t.loginFns={},$(document).on("submit","#logForm",function(){var t=$(this);if(o(t)){var e=t.find(":submit");e.text("登录中...")}}),t.loginFns.succ=function(t){var e=t.url||"",n=$("#logRegPop").length,i=decodeURIComponent(e)||document.referrer||"/user/center/index/";setTimeout(function(){n?window.location.reload():window.location=i},500)},t.loginFns.fail=function(t){var n=decodeURIComponent(t.msg)||"登录失败",i=$("#logForm").find(":submit");e++,r.ui.showFail(n,i,function(){e>=3&&(window.location="http://www.zhulang.com/login/")}),$(".verifyimg").length&&$(".verifyimg").click(),i.text("登录")}}(window),r}),define("zlang.dialog.buyChapter",["JC.Dialog","JC.Valid"],function(t,e){var n={};return n.init=function(){n.buyChapter()},n.show=function(e){Zlib.tool.ajax(e).done(function(e){t(e.html)})},n.buyChapter=function(){console.log("章节购买")},n}),define("zlang.autoBuy",["zlang.tool"],function(){var t,e,n,i={},o="auto_buy_";return i.init=function(){t=$(".autobuy"),e=t.data("bookid"),n=t.data("userid")||"",""!=n&&(i.initStatus(),i.bindAutoBuyEvent())},i.initStatus=function(){{var t=o+n;Zlib.tool.getCookie(t)}i.existsAutoBuy(n,e)?(console.log("如果该书已经存在，则设置true"),i.setYes(n,e)):i.setNo(n,e)},i.setAutoBuy=function(t,e){var n=o+t,a=Zlib.tool.getCookie(n);if(""==a)a=e;else{if(i.existsAutoBuy(t,e))return!1;a+=","+e}Zlib.tool.setCookie(n,a,"now")},i.existsAutoBuy=function(t,e){var n=o+t,i=Zlib.tool.getCookie(n);if(""==i)return!1;var a=i.split(",");for(var r in a)if(e==a[r])return!0;return!1},i.delAutoBuy=function(t,e){var n=o+t,i=Zlib.tool.getCookie(n);if(""==i)return!0;var a=i.split(","),r="";for(var l in a)e!=a[l]&&(r+=a[l]+",");r=r.substr(0,r.length-1),Zlib.tool.setCookie(n,r,"now")},i.bindAutoBuyEvent=function(){t.on("change",function(){var t=$(this);1==t.prop("checked")?i.setAutoBuy(n,e):i.delAutoBuy(n,e)})},i.setYes=function(e,n){i.setAutoBuy(e,n),t.prop("checked",!0)},i.setNo=function(e,n){i.delAutoBuy(e,n),t.prop("checked",!1)},i}),define("zlang.buy",["util","zlang.autoBuy","zlang.dialog.buyChapter","zlang.tool"],function(t,e,n){var i,o,a,r,l,s={},u=document,c="余额不够了，请先充值~";return s.init=function(){i=$(".subscribe-one"),o=$(".subscribe-all"),a=parseInt($(".user-amount").html()),r=parseInt($(".user-bonus").html()),l=$(".user-bonus").data("used")||0,e.init(),s.one(),s.buyAll()},s.postBuy=function(e,n){var i=$(e),o=i.data("api"),a=i.data("post")||"";if("one"==n){var r=$(".chapterPrice").val();if(!s.canBuy(r))return t.ui.showAlert(c),!1;if($(".autobuy").prop("checked")){var l=$(".autobuy:checked").val()||0;a+="&autobuy="+l}}if("all"==n){var u=$(".total-price").html();if(!s.canBuy(u))return t.ui.showAlert(c),!1}t.ui.dis2(i),Zlib.tool.ajax(o,"post",a,"","",2).done(function(e){e.code<=0?t.ui.showFail(e.msg,i):(t.ui.showSucc("订阅成功！正在为您跳转..."),setTimeout(function(){window.location.href=e.url},1e3)),t.ui.ena2(i)}).fail(function(){t.ui.showAlert("网络不给力，请稍后重试~"),t.ui.ena2(i)})},s.one=function(){$(u).on("click",".subscribe-one",function(){s.postBuy(this,"one")})},s.buyAll=function(){$(u).on("click",".subscribe-all",function(){s.postBuy(this,"all")})},s.canBuy=function(t){var t=parseInt(t);return l&&r>=t?!0:a>=t?!0:!1},s.autoBuyOne=function(e){Zlib.tool.ajax(e,"get").done(function(i){i.code<=0?-5==i.code?(e=e.substr(e.indexOf("doCost")+6),e=Zlib.conf.dialogBuyChapter+e,n.show(e)):t.ui.showFail(i.msg):(t.ui.showSucc(i.msg),setTimeout(function(){window.location.href=i.url},1500))}).fail(function(){t.ui.showFail("操作失败，请稍后重试")})},s}),define("zlang.util",["JC.Panel","JC.Dialog","util","zlang.dialog.login","zlang.dialog.buyChapter","zlang.buy","zlang.tool"],function(t,e,n,i,o,a){var r={};return r["package"]={},r.init=function(){},r["package"].init=function(){r["package"].ajaxRead(),r["package"].getHistory(),r["package"].getMyShelf(),r["package"].getClass(),r["package"].getTopSearch(),r["package"].getTopAd(),r["package"].verify()},r["package"].verify=function(){function t(t){if(t.length){var e=t.attr("src");e=JC.f.addUrlParams(e,{__t:1*new Date}),t.attr("src",e)}}var e=document,n=$(".verifyimg");$(e).on("click",".reloadverify",function(){t($(".verifyimg"))}).on("click",".verifyimg",function(){t($(this))}),t(n)},r["package"].getTopAd=function(){if(!$(".top-global-ad").length)return!1;var t=ZlibDomain+"ajax/ad/getTopAd";Zlib.tool.ajax(t).done(function(t){$(".top-global-ad").html(t.html)}).fail(function(){$(".top-global-ad").html("")})},r["package"].getTopSearch=function(){if(!$(".top-global-ad").length)return!1;var t=$("#sch-hot-container");if(t.length){var e=ZlibDomain+"ajax/book/getHotSearch";Zlib.tool.ajax(e).done(function(e){t.html(e.html)}).fail(function(){t.html("")})}},r["package"].getClass=function(){var t=$(".g-category-container");if(!(t.length<=0)){var e=ZlibDomain+"ajax/Class/getTopClass"+window.location.pathname;Zlib.tool.ajax(e).done(function(e){t.html(e.html)}).fail(function(){t.html("对不起，暂无数据")})}},r["package"].getHistory=function(){var t=$(".zlang-top-readhistory");t.length<=0||t.one("mouseenter",function(t){t.stopPropagation();var e=$(this),n=e.data("api");Zlib.tool.ajax(n).done(function(t){e.find(".nav-drop").html(t.html)}).fail(function(){e.find(".nav-drop").html("最近没有读书")})})},r["package"].getMyShelf=function(){var t=$(".zlang-top-shelf");t.length<=0||t.one("mouseenter",function(t){t.stopPropagation();var e=$(this),n=e.data("api");Zlib.tool.ajax(n).done(function(t){e.find(".nav-drop").html(t.html)}).fail(function(){e.find(".nav-drop").html("书架是空的")})})},r.ajaxCheckRead=function(t){Zlib.tool.ajax(t).done(function(t){t.code<=0?-400==t.code?i.show():-300==t.code?o.show(t.url):-310==t.code?a.autoBuyOne(t.url):n.ui.onAjaxRetFail(t):window.location.href=t.url}).fail(function(){n.ui.showFail("操作失败，请稍后重试")})},r["package"].ajaxRead=function(){var t=$(".zl-ajax-read");return t.length<=0?!1:void t.on("click",function(t){t.stopPropagation();var e=$(this),r=e.data("api"),l=e.data("post")||"",s=e.data("type")||"post",u=e.data("auto")||"1";l+="&auto="+u,Zlib.tool.ajax(r,s,l).done(function(t){t.code<=0?-400==t.code?i.show():-300==t.code?o.show(t.url):-310==t.code?a.autoBuyOne(t.url):n.ui.onAjaxRetFail(t):window.location.href=t.url}).fail(function(){n.ui.showFail("操作失败，请稍后重试")})})},r["package"].init(),r}),define("addToShelfCtl",["util","zlang.dialog.login"],function(t,e){var n,i={},o=document;return i.init=function(){n=$(".top-shelf"),n=n.get(0),i.addBtnCtl()},i.onAddSucc=function(e){t.ui.showSucc("添加到书架成功!"),t.ui.dis2(e.text("已添加"))},i.addBtnCtl=function(){$(o).on("click",".addto-shelf-btn",function(t){var e=$(this);e.hasClass("disabled")||e.attr("disabled")||i.postData(e)})},i.postData=function(n){var o=n,a=o.data("api"),r=o.data("post");Zlib.tool.ajax(a,"post",r).done(function(n){var n=t.io.parseJson(n);n.code<=0?-400==n.code?e.show():t.ui.showFail(n.msg||"添加失败请稍后重试",o,function(){t.ui.ena2(o)}):i.onAddSucc(o)}).fail(function(){t.ui.showFail("添加到书架失败，请稍后重试"),t.ui.ena2(o)})},i.runFlyAnim=function(t,e,n){},i}),define("commonUiCtl",["util"],function(t){App.ui.searchFromCtl=function(){var t=$(".sch-form");t.length&&t.on("submit",function(){var t=$(this),e=t.find("input[name=keywords]");return e.length&&!$.trim(e.val())?(e.focus(),!1):void 0})},App.ui.mainNavCtl=function(){var t=$("#global-nav");if(t.length){var e=t.find(".g-nav-sub .sub-links p");$(".g-nav-main li",t).mouseenter(function(){var t=$(this).index();e.eq(t).show().siblings("p").hide()})}},App.ui.topMenuCtl=function(){var t=$(".top-opt");if(t.length){var e="hover";$(".top-opt").on("mouseenter",function(t){var n=$(this);n.addClass(e)}).on("mouseleave",function(t){var n=$(this);n.removeClass(e)})}},App.ui.usrSideMenuHoverCtl=function(){var t=$("#uc-side-nav");if(t){var e=t.find("ul"),n="uc-side-nav",i=" hover",o="",a=e.find("li.active");if(a.length){var r=a.index()+1;o=n+i+r+" ",t.attr("class",o)}e.find("li").on("mouseenter",function(e){var o=$(this).index()+1;t.attr("class",n+i+o)}),t.on("mouseleave",function(e){t.attr("class",o)})}},App.ui.tlistActCtl=function(){$(".t-list li").on("mouseenter",function(){var e=$(this),n=e.find("dl"),i="on";n.length&&e.addClass(i).siblings("li").removeClass(i),t.ui.loadimg(e)}),$("[data-tab]").each(function(){var e=$(this),n=e.data("tab"),i=e.siblings("[data-con]"),o=i.data("con");t.ui.tab(e,n,i,o)})},App.ui.toggOpen=function(t){var e=$(t);if(e){var n="open";e.on("click",".sw",function(){e.toggleClass(n)})}},App.ui.hoverSwitchLists=function(e,n,i,o){var a=null,i=i||100,r=document,l=t.ui.cur,s=n||"on";if($(r).on("mouseenter",e,function(e){a&&clearTimeout(a);var n=$(this);a=setTimeout(function(){l(n,s),t.ui.loadimg(n)},i)}).on("mouseleave",e,function(t){a&&clearTimeout(a)}),o){var u=$(e).parent();$("body").on("mousemove",function(t){u.find("."+s).removeClass(s)}),u.on("mousemove",function(t){return!1})}},App.ui.siderTools=function(){function t(){if(!r){var t=(o.width()-i)/2+i+15;n.css({left:t})}}function e(){var t=o.scrollTop()||$("html").scrollTop();t>=300?a.fadeIn(600):a.fadeOut(300)}var n,i,o,a,r,l={};return l.init=function(){n=$("#sider-tools"),n.length&&(a=n.find("div.back-top"),r=n.data("nopos"),o=$("body"),i=$(".main:first").width(),l.posToolsCtl(),l.backTopCtl())},l.posToolsCtl=function(){var n=null;t(),$(window).on("scroll resize",function(){n&&clearTimeout(n),n=setTimeout(function(){t(),e()},100)})},l.backTopCtl=function(){n.on("click",".back-top a",function(t){t.preventDefault(),a.hide(),$("html,body").animate({scrollTop:0},600)})},l}(),$(function(){App.ui.searchFromCtl(),App.ui.topMenuCtl(),App.ui.usrSideMenuHoverCtl(),App.ui.tlistActCtl(),App.ui.siderTools.init(),App.ui.toggOpen("#book-summary"),App.ui.hoverSwitchLists(".fs-rcm li","on",100,!0)})}),define("js/gulp-mod-config/jcm-test",["domReady","lazyload","JC.common","JC.BaseMVC","JC.Panel","JC.Panel.default","JC.Panel.popup","JC.Dialog","JC.Dialog.popup","JC.PopTips","JC.Valid","util","zlang.config","zlang.tool","zlang.util","zlang.dialog.login","addToShelfCtl","commonUiCtl"],function(){}),window.gulpReqBase="http://stc.zhulang.com/dist/";var isTest=!1,ZlibDomain="http://www.zhulang.com/",ZlibRootDomain="zhulang.com",ZlibStaticDomain="http://stc.zhulang.com",App=App||{};App.ui=App.ui||{};var Zlib=Zlib||{};Zlib.tool=Zlib.tool||{};var reqBase=ZlibStaticDomain+"/dist/";reqBase=isTest?ZlibStaticDomain:window.gulpReqBase||reqBase,App.apis={login:"/login/",reg:"/reg/",checkin:"/checkin/",userStat:"/passport/getuserstatus/"},window.requirejs&&requirejs.config({baseUrl:reqBase,urlArgs:"v=2096",paths:{jquery:"js/lib/jquery-1.11.1.min",util:"js/app/util","jquery.form":"js/plugins/jquery.form/3.36.0/jquery.form","jquery.easing":"js/plugins/jquery.easing/jquery.easing","jquery.bxslider":"js/plugins/jquery.bxslider/jquery.bxslider.min","jquery.autoresize":"js/plugins/jquery.autoresize/jquery.autosize","jquery.placeholder":"js/plugins/jquery.placeholder/jquery.placeholder.min","jquery.xdomainrequest":"js/plugins/jquery.xdomainrequest/jQuery.XDomainRequest",parabola:"js/plugins/parabola/parabola",domReady:"js/plugins/requirejs.domReady/domReady",text:"js/plugins/requirejs.text/text",lazyload:"js/plugins/imglazyload/imglazyload",dropzone:"js/plugins/dropZone/dropzone",garlic:"js/plugins/Garlic.js-1.2.3/dist/garlic.min",simpleStorage:"js/plugins/simpleStorage/simpleStorage",lazyloadCtl:"js/app/lazyloadCtl",searchCtl:"js/app/searchCtl",sendFlowerCtl:"js/app/sendFlowerCtl",sendRewardCtl:"js/app/sendRewardCtl",commentCtl:"js/app/commentCtl",readCtl:"js/app/readCtl",menuCtls:"js/app/menuCtls",bookrcm:"js/app/bookrcm",levelBarCtl:"js/app/levelBarCtl",addToShelfCtl:"js/app/addToShelfCtl",usrCheckIn:"js/app/usrCheckIn",relativeSelect:"js/app/relativeSelect",simulateSelect:"js/app/simulateSelect",needCheck:"js/app/needCheck",editBasicInfo:"js/app/editBasicInfo",avatarCtl:"js/app/avatarCtl",bookShelfMng:"js/app/bookShelfMng",mngUtils:"js/app/mngUtils",volMng:"js/app/volMng",workList:"js/app/workList",msgCtrMng:"js/app/msgCtrMng",paging:"js/app/paging",incomeCtl:"js/app/incomeCtl",mmRegCtl:"js/app/mmRegCtl",chargeCtl:"js/app/chargeCtl",userRegCtl:"js/app/userRegCtl",pollMng:"js/app/pollMng",favTypeMng:"js/app/favTypeMng",authorWriteCtl:"js/app/authorWriteCtl",popPhoneAuth:"js/app/popPhoneAuth",popEmailAuth:"js/app/popEmailAuth",commonUiCtl:"js/app/commonUiCtl",countUpNumber:"js/app/countUpNumber",quesMsg:"js/app/quesMsg",datepicker:"js/plugins/bootstrap.datepicker/datepicker.min","zlang.config":"js/zlang/config","zlang.tool":"js/zlang/tool","zlang.util":"js/zlang/util","zlang.user":"js/zlang/user","zlang.user.likeBang":"js/zlang/user.likeBang","zlang.user.getLikeTag":"js/zlang/getLikeTag","zlang.reg":"js/zlang/reg","zlang.book":"js/zlang/book","zlang.book.getRank":"js/zlang/getRank","zlang.book.comment":"js/zlang/book.comment","zlang.book.commentFace":"js/zlang/book.commentFace","zlang.book.commentPage":"js/zlang/book.commentPage","zlang.book.commentReply":"js/zlang/book.commentReply","zlang.author.mulchoose":"js/zlang/author.mulchoose","zlang.author.getChapter":"js/zlang/author.getChapter","zlang.dialog.login":"js/zlang/dialog.login","zlang.dialog.buyChapter":"js/zlang/dialog.buyChapter","zlang.buy":"js/zlang/buy","zlang.autoBuy":"js/zlang/autoBuy","zlang.category":"js/zlang/category","zlang.index":"js/zlang/index","zlang.historyBangList":"js/zlang/historyBangList","JC.common":"js/jc2/modules/JC.common/0.2/common","JC.Calendar":"js/jc2/modules/JC.Calendar/0.2/Calendar","JC.Panel":"js/jc2/modules/JC.Panel/0.2/Panel","JC.Panel.default":"js/jc2/modules/JC.Panel/0.2/Panel.default","JC.Panel.popup":"js/jc2/modules/JC.Panel/0.2/Panel.popup","JC.Dialog":"js/jc2/modules/JC.Panel/0.2/Dialog","JC.Dialog.popup":"js/jc2/modules/JC.Panel/0.2/Dialog.popup","JC.Placeholder":"js/jc2/modules/JC.Placeholder/0.1/Placeholder","JC.PopTips":"js/jc2/modules/JC.PopTips/0.1/PopTips","JC.Valid":"js/jc2/modules/JC.Valid/0.2/Valid","page.book.face":"js/pages/book.face.min","page.book.read":"js/pages/book.read.min","page.user.shelf":"js/pages/user.shelf.min"},shim:{lazyload:{exports:"lazyload"},garlic:{deps:["jquery"],exports:"garlic"},"jquery.easing":{deps:["jquery"],exports:"easing"},"jquery.autoresize":{deps:["jquery"],exports:"autoresize"},parabola:{exports:"parabola"}}}),$(function(){var t=[];t.push("jquery.xdomainrequest"),t.push("util"),t.push("commonUiCtl"),t.push("zlang.config"),t.push("zlang.tool"),t.push("zlang.util"),$(".sml-sel").length&&t.push("simulateSelect"),$(".js-chk-all").length&&t.push("relativeSelect"),$("#check-in").length&&t.push("usrCheckIn"),$("[data-needchk]").length&&t.push("needCheck"),$(".mm-reg").length&&t.push("mmRegCtl"),requirejs(t,function(){}),$("form[data-persist],.garlic-auto-save").length&&requirejs(["garlic"],function(t){$("form[data-persist],.garlic-auto-save").garlic()}),window.lowie&&requirejs(["jquery.placeholder"],function(t){$("input").placeholder({customClass:"cls-placeholder"})})}),App.addFavorite=function(){var t=window.location,e=document.title,n=navigator.userAgent.toLowerCase();if(n.indexOf("360se")>-1)alert("由于360浏览器功能限制，请按 Ctrl+D 手动收藏！");else if(n.indexOf("msie 8")>-1)window.external.AddToFavoritesBar(t,e);else if(document.all)try{window.external.addFavorite(t,e)}catch(i){alert("您的浏览器不支持,请按 Ctrl+D 手动收藏!")}else window.sidebar?window.sidebar.addPanel(e,t,""):alert("您的浏览器不支持,请按 Ctrl+D 手动收藏!")},$(function(){$(".fav-btn").on("click",function(){App.addFavorite()})});